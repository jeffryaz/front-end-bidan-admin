(this.webpackJsonpaplication=this.webpackJsonpaplication||[]).push([[5],{1162:function(e,a,t){"use strict";t.d(a,"a",(function(){return g}));var n=t(18),l=t(0),c=t.n(l),r=t(21),i=t(1159),o=t(1138),s=t(1176),m=t(1208),u=t(1199),d=t(1200),E=t(1212),p=t(1143),f=t(15),b=Object(r.a)((function(e){return{tooltip:{boxShadow:e.shadows[1],fontSize:"0.875rem",marginTop:"0.25rem"}}}))(i.a);function g(e){var a=e.data,t=e.handleAction,l=e.ops,r=e.label,i=void 0===r?null:r,g=e.exclude,v=void 0===g?[]:g,N=c.a.useState(null),L=Object(n.a)(N,2),A=L[0],h=L[1],O=Boolean(A);function y(e){h(e.currentTarget)}function S(){h(null)}var _=c.a.useCallback((function(e,a){"function"===typeof t&&t(e,a),S()}),[t,S]),j=l;return c.a.createElement("div",null,i?c.a.createElement(b,{title:c.a.createElement(p.a,{id:i}),placement:"bottom"},c.a.createElement(o.a,{"aria-label":"More","aria-controls":"long-menu","aria-haspopup":"true",onClick:y},c.a.createElement(E.a,null))):c.a.createElement(o.a,{"aria-label":"More","aria-controls":"long-menu","aria-haspopup":"true",onClick:y,style:{margin:"-6px 0px",padding:8}},c.a.createElement(E.a,null)),c.a.createElement(s.a,{id:"long-menu",anchorEl:A,keepMounted:!0,open:O,onClose:S,PaperProps:{style:{width:300,marginLeft:-50}}},j.filter((function(e){return!v.includes(e.type)})).map((function(e,t){var n,l;return e.to?c.a.createElement(f.b,{key:t,to:null===(n=e.to)||void 0===n?void 0:n.url,style:null===(l=e.to)||void 0===l?void 0:l.style},c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement("i",{className:e.icon})),c.a.createElement(d.a,{primary:c.a.createElement(p.a,{id:e.label})}))):c.a.createElement(m.a,{key:t,onClick:function(){return _(e.type,a)},disabled:e.disabled},c.a.createElement(u.a,null,c.a.createElement("i",{className:e.icon})),c.a.createElement(d.a,{primary:c.a.createElement(p.a,{id:e.label})}))}))))}},1163:function(e,a,t){},1164:function(e,a,t){"use strict";var n=t(64),l=t(18),c=t(0),r=t.n(c),i=t(31),o=t(1143),s=t(264),m=t(1193),u=t(1100),d=t(1194),E=t(1195),p=t(1196),f=t(1197),b=t(1209),g=t(1198),v=t(1204);t(1163);a.a=Object(s.c)(Object(i.b)(null,null)((function(e){var a=e.intl,t=e.dataHeader,c=void 0===t?[]:t,i=e.handleParams,s=e.loading,N=void 0!==s&&s,L=e.err,A=void 0!==L&&L,h=e.children,O=e.countData,y=void 0===O?0:O,S=e.hecto,_=void 0===S?1:S,j=r.a.useState({numberColum:0,page:0,count:y,rowsPerPage:10}),T=Object(l.a)(j,2),I=T[0],B=T[1],C=r.a.useState({name:c.filter((function(e){return!0===e.order.status&&!0===e.order.active})).length>0?c.filter((function(e){return!0===e.order.status&&!0===e.order.active}))[0].name.replace(/\s/g,""):"",order:!(c.filter((function(e){return!0===e.order.status&&!0===e.order.active})).length>0)||c.filter((function(e){return!0===e.order.status&&!0===e.order.active}))[0].order.status,type:c.filter((function(e){return!0===e.order.status&&!0===e.order.active&&null!==e.order.type})).length>0?c.filter((function(e){return!0===e.order.status&&!0===e.order.active&&null!==e.order.type}))[0].order.type:null}),x=Object(l.a)(C,2),w=x[0],D=x[1],R=r.a.useState(""),k=Object(l.a)(R,2),M=k[0],P=k[1],F=r.a.useState({}),Y=Object(l.a)(F,2),V=Y[0],U=Y[1],H=r.a.useState({filter:{},sort:{}}),Q=Object(l.a)(H,2),G=Q[0],W=Q[1],K=r.a.useCallback((function(e,a){var t,l=Object.assign({},I),c=G;c.filter=function(e){var a="";for(var t in e)e[t]&&(a+="filter["+t+"]="+e[t]+"&");return a}(e||V),c.sort="".concat((t=a||w).name,",").concat(null!==t.type?t.type?"asc":"desc":t.order?"asc":"desc"),l.page=l.page+1,c=Object.assign({},c,l),W(Object(n.a)({},c));var r=c.filter+"page="+c.page+"&rowsPerPage="+c.rowsPerPage+"&sort="+c.sort;i(r)}),[V,w,G,a,I]),q=function(e,a){var t=a,n=e,l=document.getElementById(t).getAttribute("status");""===M?(P(t),document.getElementById(t).setAttribute("status","open"),document.getElementById(t).classList.add("open")):M===t?"closed"===l?(document.getElementById(t).setAttribute("status","open"),document.getElementById(t).classList.add("open")):(document.getElementById(t).setAttribute("status","closed"),document.getElementById(t).classList.remove("open"),document.getElementById(n).value=V[n]||""):(document.getElementById(M).setAttribute("status","closed"),document.getElementById(M).classList.remove("open"),P(t),document.getElementById(t).setAttribute("status","open"),document.getElementById(t).classList.add("open"))};return r.a.useEffect(K,[]),r.a.useEffect((function(){B(Object(n.a)(Object(n.a)({},I),{},{count:y||0}))}),[y]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("form",{id:"filter-form-all",className:"panel-filter-table mb-1"},r.a.createElement("span",{className:"mr-2 mt-2 float-left"},r.a.createElement(o.a,{id:"LABEL.FILTER.TABLE"})),r.a.createElement("div",{className:"d-block"},r.a.createElement("div",{className:""},c.filter((function(e){return!0===e.filter.active})).map((function(e,t){return r.a.createElement("div",{key:t.toString(),className:"btn-group hover-filter-table",status:"closed",id:t},r.a.createElement("div",{className:"btn btn-sm dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false",onClick:function(){q(e.name.replace(/\s/g,""),t)}},r.a.createElement("span",null,r.a.createElement(o.a,{id:e.title}),":"),r.a.createElement("strong",{style:{paddingRight:1,paddingLeft:1}},r.a.createElement("span",{className:"filter-label",id:"filter-span-"+t},V[e.name.replace(/\s/g,"")])),V[e.name.replace(/\s/g,"")]?null:r.a.createElement("span",{style:{color:"#777777"}},r.a.createElement(o.a,{id:"LABEL.ALL"}))),r.a.createElement("ul",{role:"menu",className:"dropdown-menu",style:{zIndex:90}},r.a.createElement("li",{style:{width:380,padding:5}},r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{className:"float-left"},r.a.createElement("input",{type:e.filter.type,className:"form-control form-control-sm",min:"0",name:e.name.replace(/\s/g,""),id:e.name.replace(/\s/g,""),defaultValue:V[e.name.replace(/\s/g,"")]||"",placeholder:a.formatMessage({id:"LABEL.ALL"}),style:{width:200}})),r.a.createElement("div",{className:"d-flex"},r.a.createElement("button",{type:"button",className:"mx-2 float-left btn btn-sm btn-primary",onClick:function(){!function(e,a){var t=V;t[e]=document.getElementById(e).value,U(Object(n.a)({},t)),q(e,a),K()}(e.name.replace(/\s/g,""),t)}},r.a.createElement(o.a,{id:"LABEL.UPDATE"})),r.a.createElement("button",{type:"button",className:"mx-2 float-right btn btn-sm btn-light d-flex",onClick:function(){!function(e){var a=V;a[e]="",document.getElementById(e).value="",U(Object(n.a)({},a)),K()}(e.name.replace(/\s/g,""))}},r.a.createElement("i",{className:"fas fa-redo fa-right"}),r.a.createElement("span",null,r.a.createElement(o.a,{id:"LABEL.FILTER.RESET.TABLE"}))))))))})),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger ml-2 mt-2 button-filter-submit",onClick:function(){U({}),document.getElementById("filter-form-all").reset(),K({})}},r.a.createElement(o.a,{id:"LABEL.FILTER.RESET.TABLE"}))))),r.a.createElement("div",null,r.a.createElement(m.a,{component:u.a},r.a.createElement(d.a,{className:"hecto-"+_},r.a.createElement(E.a,null,r.a.createElement(p.a,null,c.map((function(e,a){return r.a.createElement(f.a,{className:"bg-primary text-uppercase",key:a.toString()},e.order.active?r.a.createElement(b.a,{active:w.name===e.name.replace(/\s/g,""),direction:null!==w.type?w.type?"asc":"desc":w.order?"asc":"desc",onClick:function(){!function(e){var a=w;e.name.replace(/\s/g,"")===a.name?null!==a.type?a.type=!a.type:a.order=!a.order:(a.name=e.name.replace(/\s/g,""),a.order=!0,a.type=null),D(Object(n.a)({},a)),K()}(e)}},r.a.createElement("span",null,r.a.createElement(o.a,{id:e.title}))):r.a.createElement("span",null,r.a.createElement(o.a,{id:e.title})))})))),r.a.createElement(g.a,null,h)),r.a.createElement("div",{className:"table-loading-data"},r.a.createElement("div",{className:"text-center font-weight-bold py-5"},r.a.createElement("div",{className:"table-loading-data-potition"},N&&r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-spinner fa-pulse text-dark mr-1"}),r.a.createElement(o.a,{id:"LABEL.TABLE.WAITING_DATA"})),A&&r.a.createElement("span",{className:"text-danger"},r.a.createElement("i",{className:"far fa-frown text-danger mr-1"}),r.a.createElement(o.a,{id:"LABEL.ERROR_REQUEST"})))))),r.a.createElement(v.a,{rowsPerPageOptions:[10,25,50,75,100,250,500,1e3],component:"div",count:I.count,rowsPerPage:I.rowsPerPage,page:I.page,onChangePage:function(e,a){var t=I;t.numberColum=a>t.page?t.numberColum+t.rowsPerPage:t.numberColum-t.rowsPerPage,t.page=a,B(Object(n.a)({},t)),K()},onChangeRowsPerPage:function(e){var a=I;a.page=0,a.rowsPerPage=parseInt(e.target.value,10),a.numberColum=0,B(Object(n.a)({},a)),K()}}))))})))},1166:function(e,a,t){"use strict";var n=t(0),l=t.n(n),c=t(31),r=t(1143),i=t(264),o=t(1193),s=t(1100),m=t(1194),u=t(1195),d=t(1196),E=t(1197),p=t(1198);t(1163);a.a=Object(i.c)(Object(c.b)(null,null)((function(e){e.intl;var a=e.dataHeader,t=void 0===a?[]:a,n=e.loading,c=void 0!==n&&n,i=e.err,f=void 0!==i&&i,b=e.children,g=e.hecto,v=void 0===g?1:g;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(o.a,{component:s.a},l.a.createElement(m.a,{className:"hecto-"+v},l.a.createElement(u.a,null,l.a.createElement(d.a,null,t.map((function(e,a){return l.a.createElement(E.a,{className:"bg-primary text-uppercase",key:a.toString()},l.a.createElement("span",null,l.a.createElement(r.a,{id:e.title})))})))),l.a.createElement(p.a,null,b)),l.a.createElement("div",{className:"table-loading-data"},l.a.createElement("div",{className:"text-center font-weight-bold py-5"},l.a.createElement("div",{className:"table-loading-data-potition"},c&&l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-spinner fa-pulse text-dark mr-1"}),l.a.createElement(r.a,{id:"LABEL.TABLE.WAITING_DATA"})),f&&l.a.createElement("span",{className:"text-danger"},l.a.createElement("i",{className:"far fa-frown text-danger mr-1"}),l.a.createElement(r.a,{id:"LABEL.ERROR_REQUEST"}))))))))})))},1206:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(96),r=t(91),i=t.n(r),o=t(1161),s=t(18),m=t(31),u=t(1143),d=t(264),E=t(1166),p=t(349),f=t(1157),b=t(1134),g=t(1135),v=t(1137),N=t(1196),L=t(1197),A=t(47),h=t(119),O=t.n(h);function y(e){return O.a.post("/api/v1/reservasioff",e)}function S(e,a){return O.a.put("/api/v1/cancelreservasi/".concat(e),a)}function _(e){return O.a.get("/api/v1/screeningform/".concat(e))}function j(e){return O.a.post("/api/v1/submitscreen",e)}var T=t(224),I=t(1162),B=t(59),C=t(103),x=[{title:"LABEL.PATIENT_CODE"},{title:"LABEL.REGISTRATION_NO"},{title:"LABEL.PATIENT_NAME"},{title:"LABEL.DATE_OF_VISIT"},{title:"LABEL.POLI"},{title:"LABEL.STATUS"},{title:"LABEL.TABLE_HEADER.ACTION"}],w=[{label:"LABEL.CHECK_IN",icon:"fas fa-user-check text-primary",type:"checkin"},{label:"LABEL.CANCEL",icon:"fas fa-ban text-danger",type:"cancel"}],D={};var R=Object(d.c)(Object(m.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!0),c=Object(s.a)(t,2),r=c[0],m=c[1],d=Object(n.useState)(!1),h=Object(s.a)(d,2),y=h[0],R=h[1],k=Object(n.useState)([]),M=Object(s.a)(k,2),P=M[0],F=M[1],Y=Object(n.useState)(!1),V=Object(s.a)(Y,2),U=V[0],H=V[1],Q=Object(n.useState)(!1),G=Object(s.a)(Q,2),W=G[0],K=G[1],q=Object(n.useState)({}),z=Object(s.a)(q,2),Z=z[0],J=z[1],X=Object(n.useState)([]),$=Object(s.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(!1),ne=Object(s.a)(te,2),le=ne[0],ce=ne[1],re=Object(n.useState)(!1),ie=Object(s.a)(re,2),oe=ie[0],se=ie[1],me=Object(n.useState)({}),ue=Object(s.a)(me,2),de=ue[0],Ee=ue[1],pe=Object(A.i)();Object(n.useLayoutEffect)((function(){pe.setBreadcrumbs([{pathname:"/registry/dashboard",title:a.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/registry/regis-page/list-online",title:a.formatMessage({id:"LABEL.REGISTER_ONLINE_RESERVATION"})}]),pe.setTitle(a.formatMessage({id:"LABEL.REGISTER_ONLINE_RESERVATION"}))}),[]);var fe=B.b().shape({cancel_reason:B.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"}))}),be=Object(C.b)({initialValues:D,validationSchema:fe,onSubmit:function(){var e=Object(o.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setStatus,n.setSubmitting,R(!0),S(de.id,t).then((function(e){ge(),H(!1),R(!1),be.resetForm(),T.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3)})).catch((function(e){R(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}),ge=function(){m(!0),O.a.get("/api/v1/reservasion").then((function(e){m(!1),F(e.data.data)})).catch((function(e){m(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))};Object(n.useEffect)(ge,[]);var ve=function(e,a){"cancel"===e?(Ee(a),H(!0)):"checkin"===e&&(Ne(a.poli_id),J(a),K(!0))},Ne=function(e){ce(!1),se(!0),ae([]),_(e).then((function(e){se(!1),ae(e.data.data)})).catch((function(e){ce(!0),se(!1),T.a.showSnackbar(e.response.data.messages)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{open:U,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(b.a,null,l.a.createElement(u.a,{id:"LABEL.CANCELLATION_REASON"})),l.a.createElement("form",{autoComplete:"off",onSubmit:be.handleSubmit},l.a.createElement(g.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.PATIENT_CODE"})),l.a.createElement("input",{type:"email",className:"form-control",value:de.kode_pasien,onChange:function(){},disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.PATIENT_NAME"})),l.a.createElement("input",{type:"email",className:"form-control",value:de.nama,onChange:function(){},disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.DATE_OF_VISIT"})),l.a.createElement("input",{type:"email",className:"form-control",value:de.tgl_book?window.moment(new Date(de.tgl_book)).format("DD MMM YYYY"):"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.REGISTRATION_NO"})),l.a.createElement("input",{type:"email",className:"form-control",value:de.code_reg,onChange:function(){},disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.POLI"})),l.a.createElement("input",{type:"email",className:"form-control",value:de.poli,onChange:function(){},disabled:!0})))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"cancllationReason"},l.a.createElement(u.a,{id:"LABEL.NOTES"}),":"),l.a.createElement("textarea",Object.assign({rows:"3",className:"form-control",id:"cancllationReason"},be.getFieldProps("cancel_reason"),{onFocus:function(){be.setFieldTouched("cancel_reason",!0)},required:!0,disabled:y})),be.touched.cancel_reason&&be.errors.cancel_reason&&l.a.createElement("span",{className:"text-left text-danger"},be.errors.cancel_reason))),l.a.createElement(v.a,null,l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){H(!1),be.resetForm()},disabled:y},l.a.createElement(u.a,{id:"LABEL.CANCEL"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!be.isValid||0===Object.keys(be.touched).length&&be.touched.constructor===Object||y},y?l.a.createElement(u.a,{id:"LABEL.WAITING"}):l.a.createElement(u.a,{id:"LABEL.SAVE"}),y?l.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}):l.a.createElement("i",{className:"fas fa-save ml-2"}))))),l.a.createElement(f.a,{open:W,maxWidth:"lg",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(b.a,null,l.a.createElement(u.a,{id:"LABEL.CHECKIN_SCREENING"}),oe&&l.a.createElement("span",{className:"text-danger"},l.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}),l.a.createElement(u.a,{id:"LABEL.WAITING"}))),l.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),se(!0);for(var t=[],n=0;n<ee.length;n++){var l=document.getElementById((ee[n].nama+ee[n].id).match(/[a-zA-Z0-9]+/g).join("")).value,c={medkind_id:ee[n].medkind_id,medform_id:ee[n].medform_id,val_desc:l};t.push(c)}j({reservasi_id:Z.id,screenitems:t}).then((function(e){ge(),K(!1),se(!1),ae([]),T.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3)})).catch((function(e){se(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}},l.a.createElement(g.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},l.a.createElement(u.a,{id:"LABEL.PATIENT_CODE"})),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:Z.kode_pasien,onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},l.a.createElement(u.a,{id:"LABEL.PATIENT_NAME"})),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:Z.nama,onChange:function(){},disabled:!0})))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},l.a.createElement(u.a,{id:"LABEL.POLI"})),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:Z.poli,onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},l.a.createElement(u.a,{id:"LABEL.DATE_OF_VISIT"})),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:window.moment(new Date(Z.tgl_book)).format("DD MMM YYYY"),onChange:function(){},disabled:!0}))))),l.a.createElement("div",{className:"row mt-5"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h6",null,l.a.createElement(u.a,{id:"LABEL.PATIENT_SCREENING"})))),l.a.createElement("div",{className:"row"},ee.map((function(e,a){return l.a.createElement("div",{key:a.toString(),className:"col-md-4"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,e.nama),1===e.datatype||2===e.datatype||3===e.datatype||4===e.datatype?l.a.createElement("input",{type:1===e.datatype?"text":2===e.datatype||3===e.datatype?"number":"date",className:"form-control",id:(e.nama+e.id).match(/[a-zA-Z0-9]+/g).join(""),disabled:oe}):l.a.createElement("textarea",{rows:"3",id:(e.nama+e.id).match(/[a-zA-Z0-9]+/g).join(""),disabled:oe})))})))),l.a.createElement(v.a,null,l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){K(!1)}},l.a.createElement(u.a,{id:"LABEL.CANCEL"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary ".concat(le?"d-none":""),disabled:oe},l.a.createElement(u.a,{id:"LABEL.SAVE"}),l.a.createElement("i",{className:"fas fa-save ml-2"}))))),l.a.createElement(p.b,null,l.a.createElement(p.c,null,l.a.createElement(E.a,{dataHeader:x,loading:r,hecto:10},P.map((function(e,a){return l.a.createElement(N.a,{key:a.toString()},l.a.createElement(L.a,null,e.kode_pasien),l.a.createElement(L.a,null,e.code_reg),l.a.createElement(L.a,null,e.nama),l.a.createElement(L.a,null,e.tgl_book),l.a.createElement(L.a,null,e.poli),l.a.createElement(L.a,null,"1"===e.status?l.a.createElement(u.a,{id:"LABEL.BOOKING"}):"2"===e.status?l.a.createElement(u.a,{id:"LABEL.CANCELED"}):l.a.createElement(u.a,{id:"LABEL.CHECK_IN"})),l.a.createElement(L.a,null,l.a.createElement(I.a,{data:e,handleAction:ve,ops:w})))}))))))}))),k=[{title:"LABEL.PATIENT_CODE"},{title:"LABEL.REGISTRATION_NO"},{title:"LABEL.PATIENT_NAME"},{title:"LABEL.DATE_OF_VISIT"},{title:"LABEL.POLI"},{title:"LABEL.STATUS"},{title:"LABEL.TABLE_HEADER.ACTION"}],M=[{label:"LABEL.CHECK_IN",icon:"fas fa-user-check text-primary",type:"checkin"},{label:"LABEL.CANCEL",icon:"fas fa-ban text-danger",type:"cancel"}],P={};var F=Object(d.c)(Object(m.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!0),c=Object(s.a)(t,2),r=c[0],m=c[1],d=Object(n.useState)(!1),h=Object(s.a)(d,2),y=h[0],x=h[1],w=Object(n.useState)([]),D=Object(s.a)(w,2),R=D[0],F=D[1],Y=Object(n.useState)(!1),V=Object(s.a)(Y,2),U=V[0],H=V[1],Q=Object(n.useState)(!1),G=Object(s.a)(Q,2),W=G[0],K=G[1],q=Object(n.useState)({}),z=Object(s.a)(q,2),Z=z[0],J=z[1],X=Object(n.useState)([]),$=Object(s.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(!1),ne=Object(s.a)(te,2),le=ne[0],ce=ne[1],re=Object(n.useState)(!1),ie=Object(s.a)(re,2),oe=ie[0],se=ie[1],me=Object(n.useState)({}),ue=Object(s.a)(me,2),de=ue[0],Ee=ue[1],pe=Object(A.i)();Object(n.useLayoutEffect)((function(){pe.setBreadcrumbs([{pathname:"/registry/dashboard",title:a.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/registry/regis-page/list-offline",title:a.formatMessage({id:"LABEL.REGISTER_OFFLINE_RESERVATION"})}]),pe.setTitle(a.formatMessage({id:"LABEL.REGISTER_OFFLINE_RESERVATION"}))}),[]);var fe=B.b().shape({cancel_reason:B.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"}))}),be=Object(C.b)({initialValues:P,validationSchema:fe,onSubmit:function(){var e=Object(o.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setStatus,n.setSubmitting,x(!0),S(de.id,t).then((function(e){ge(),H(!1),x(!1),be.resetForm(),T.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3)})).catch((function(e){x(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}),ge=function(){m(!0),O.a.get("/api/v1/reservasioff").then((function(e){m(!1),F(e.data.data)})).catch((function(e){m(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))};Object(n.useEffect)(ge,[]);var ve=function(e,a){"cancel"===e?(Ee(a),H(!0)):"checkin"===e&&(Ne(a.poli_id),J(a),K(!0))},Ne=function(e){ce(!1),se(!0),ae([]),_(e).then((function(e){se(!1),ae(e.data.data)})).catch((function(e){ce(!0),se(!1),T.a.showSnackbar(e.response.data.messages)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{open:U,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(b.a,null,l.a.createElement(u.a,{id:"LABEL.CANCELLATION_REASON"})),l.a.createElement("form",{autoComplete:"off",onSubmit:be.handleSubmit},l.a.createElement(g.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.PATIENT_CODE"})),l.a.createElement("input",{type:"email",className:"form-control",value:de.kode_pasien,onChange:function(){},disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.PATIENT_NAME"})),l.a.createElement("input",{type:"email",className:"form-control",value:de.nama,onChange:function(){},disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.DATE_OF_VISIT"})),l.a.createElement("input",{type:"email",className:"form-control",value:de.tgl_book?window.moment(new Date(de.tgl_book)).format("DD MMM YYYY"):"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.REGISTRATION_NO"})),l.a.createElement("input",{type:"email",className:"form-control",value:de.code_reg,onChange:function(){},disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.POLI"})),l.a.createElement("input",{type:"email",className:"form-control",value:de.poli,onChange:function(){},disabled:!0})))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"cancllationReason"},l.a.createElement(u.a,{id:"LABEL.NOTES"}),":"),l.a.createElement("textarea",Object.assign({rows:"3",className:"form-control",id:"cancllationReason"},be.getFieldProps("cancel_reason"),{onFocus:function(){be.setFieldTouched("cancel_reason",!0)},required:!0,disabled:y})),be.touched.cancel_reason&&be.errors.cancel_reason&&l.a.createElement("span",{className:"text-left text-danger"},be.errors.cancel_reason))),l.a.createElement(v.a,null,l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){H(!1),be.resetForm()},disabled:y},l.a.createElement(u.a,{id:"LABEL.CANCEL"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!be.isValid||0===Object.keys(be.touched).length&&be.touched.constructor===Object||y},y?l.a.createElement(u.a,{id:"LABEL.WAITING"}):l.a.createElement(u.a,{id:"LABEL.SAVE"}),y?l.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}):l.a.createElement("i",{className:"fas fa-save ml-2"}))))),l.a.createElement(f.a,{open:W,maxWidth:"lg",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(b.a,null,l.a.createElement(u.a,{id:"LABEL.CHECKIN_SCREENING"}),oe&&l.a.createElement("span",{className:"text-danger"},l.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}),l.a.createElement(u.a,{id:"LABEL.WAITING"}))),l.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),se(!0);for(var t=[],n=0;n<ee.length;n++){var l=document.getElementById((ee[n].nama+ee[n].id).match(/[a-zA-Z0-9]+/g).join("")).value,c={medkind_id:ee[n].medkind_id,medform_id:ee[n].medform_id,val_desc:l};t.push(c)}j({reservasi_id:Z.id,screenitems:t}).then((function(e){ge(),K(!1),se(!1),ae([]),T.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3)})).catch((function(e){se(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}},l.a.createElement(g.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},l.a.createElement(u.a,{id:"LABEL.PATIENT_CODE"})),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:Z.kode_pasien,onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},l.a.createElement(u.a,{id:"LABEL.PATIENT_NAME"})),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:Z.nama,onChange:function(){},disabled:!0})))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},l.a.createElement(u.a,{id:"LABEL.POLI"})),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:Z.poli,onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4"},l.a.createElement(u.a,{id:"LABEL.DATE_OF_VISIT"})),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:window.moment(new Date(Z.tgl_book)).format("DD MMM YYYY"),onChange:function(){},disabled:!0}))))),l.a.createElement("div",{className:"row mt-5"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h6",null,l.a.createElement(u.a,{id:"LABEL.PATIENT_SCREENING"})))),l.a.createElement("div",{className:"row"},ee.map((function(e,a){return l.a.createElement("div",{key:a.toString(),className:"col-md-4"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,e.nama),1===e.datatype||2===e.datatype||3===e.datatype||4===e.datatype?l.a.createElement("input",{type:1===e.datatype?"text":2===e.datatype||3===e.datatype?"number":"date",className:"form-control",id:(e.nama+e.id).match(/[a-zA-Z0-9]+/g).join(""),disabled:oe}):l.a.createElement("textarea",{rows:"3",id:(e.nama+e.id).match(/[a-zA-Z0-9]+/g).join(""),disabled:oe})))})))),l.a.createElement(v.a,null,l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){K(!1)}},l.a.createElement(u.a,{id:"LABEL.CANCEL"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary ".concat(le?"d-none":""),disabled:oe},l.a.createElement(u.a,{id:"LABEL.SAVE"}),l.a.createElement("i",{className:"fas fa-save ml-2"}))))),l.a.createElement(p.b,null,l.a.createElement(p.c,null,l.a.createElement(E.a,{dataHeader:k,loading:r,hecto:10},R.map((function(e,a){return l.a.createElement(N.a,{key:a.toString()},l.a.createElement(L.a,null,e.kode_pasien),l.a.createElement(L.a,null,e.code_reg),l.a.createElement(L.a,null,e.nama),l.a.createElement(L.a,null,e.tgl_book),l.a.createElement(L.a,null,e.poli),l.a.createElement(L.a,null,"1"===e.status?l.a.createElement(u.a,{id:"LABEL.BOOKING"}):"2"===e.status?l.a.createElement(u.a,{id:"LABEL.CANCELED"}):l.a.createElement(u.a,{id:"LABEL.CHECK_IN"})),l.a.createElement(L.a,null,"1"===e.status&&l.a.createElement(I.a,{data:e,handleAction:ve,ops:M})))}))))))}))),Y=t(64),V=t(1164),U=[{title:"Kode pasien",name:"code_patient",order:{active:!0,status:!0},filter:{active:!0,type:"text"}},{title:"No Daftar",name:"no_regis",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"Nama Pasien",name:"name_patient",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"Tanggal Reservasi",name:"reservation_created",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"Tujuan",name:"tujuan",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"Status",name:"status",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.TABLE_HEADER.ACTION",name:"action",order:{active:!1,status:!1},filter:{active:!1,type:"text"}}];var H=Object(d.c)(Object(m.b)(null,null)((function(e){var a=Object(n.useState)(!0),t=Object(s.a)(a,2),c=t[0],r=t[1],i=Object(n.useState)({data:[],count:0}),o=Object(s.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)(""),E=Object(s.a)(d,2),f=(E[0],E[1]),b=Object(n.useState)(!1),g=Object(s.a)(b,2),v=g[0],h=g[1];return Object(A.i)().setTitle("Daftar Check In"),l.a.createElement(l.a.Fragment,null,l.a.createElement(p.b,null,l.a.createElement(p.c,null,l.a.createElement(V.a,{dataHeader:U,handleParams:function(e){r(!0),u(Object(Y.a)(Object(Y.a)({},m),{},{count:0,data:[]})),h(!1),f(e)},loading:c,err:v,countData:m.count,hecto:10},m.data.map((function(e,a){return l.a.createElement(N.a,{key:a.toString()},l.a.createElement(L.a,null,a+1,"."),l.a.createElement(L.a,null,a+1,"."),l.a.createElement(L.a,null,a+1,"."),l.a.createElement(L.a,null,a+1,"."),l.a.createElement(L.a,null,a+1,"."),l.a.createElement(L.a,null,a+1,"."),l.a.createElement(L.a,null,a+1,"."))}))))))}))),Q=t(1165),G=t(1210),W=t(1),K=t(136),q=t(12),z=t(11),Z=(t(7),t(193)),J=t(21),X=t(75),$=t(97),ee=t(111),ae=t(36),te=n.forwardRef((function(e,a){var t=e.children,l=e.classes,c=e.className,r=e.collapsedHeight,i=void 0===r?"0px":r,o=e.component,s=void 0===o?"div":o,m=e.disableStrictModeCompat,u=void 0!==m&&m,d=e.in,E=e.onEnter,p=e.onEntered,f=e.onEntering,b=e.onExit,g=e.onExited,v=e.onExiting,N=e.style,L=e.timeout,A=void 0===L?X.b.standard:L,h=e.TransitionComponent,O=void 0===h?Z.c:h,y=Object(q.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),S=Object(ee.a)(),_=n.useRef(),j=n.useRef(null),T=n.useRef(),I="number"===typeof i?"".concat(i,"px"):i;n.useEffect((function(){return function(){clearTimeout(_.current)}}),[]);var B=S.unstable_strictMode&&!u,C=n.useRef(null),x=Object(ae.a)(a,B?C:void 0),w=function(e){return function(a,t){if(e){var n=B?[C.current,a]:[a,t],l=Object(K.a)(n,2),c=l[0],r=l[1];e(c,r)}}},D=w((function(e,a){e.style.height=I,E&&E(e,a)})),R=w((function(e,a){var t=j.current?j.current.clientHeight:0,n=Object($.a)({style:N,timeout:A},{mode:"enter"}).duration;if("auto"===A){var l=S.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(l,"ms"),T.current=l}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height="".concat(t,"px"),f&&f(e,a)})),k=w((function(e,a){e.style.height="auto",p&&p(e,a)})),M=w((function(e){var a=j.current?j.current.clientHeight:0;e.style.height="".concat(a,"px"),b&&b(e)})),P=w(g),F=w((function(e){var a=j.current?j.current.clientHeight:0,t=Object($.a)({style:N,timeout:A},{mode:"exit"}).duration;if("auto"===A){var n=S.transitions.getAutoHeightDuration(a);e.style.transitionDuration="".concat(n,"ms"),T.current=n}else e.style.transitionDuration="string"===typeof t?t:"".concat(t,"ms");e.style.height=I,v&&v(e)}));return n.createElement(O,Object(W.a)({in:d,onEnter:D,onEntered:k,onEntering:R,onExit:M,onExited:P,onExiting:F,addEndListener:function(e,a){var t=B?e:a;"auto"===A&&(_.current=setTimeout(t,T.current||0))},nodeRef:B?C:void 0,timeout:"auto"===A?null:A},y),(function(e,a){return n.createElement(s,Object(W.a)({className:Object(z.a)(l.container,c,{entered:l.entered,exited:!d&&"0px"===I&&l.hidden}[e]),style:Object(W.a)({minHeight:I},N),ref:x},a),n.createElement("div",{className:l.wrapper,ref:j},n.createElement("div",{className:l.wrapperInner},t)))}))}));te.muiSupportAuto=!0;var ne=Object(J.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(te),le=t(4),ce=t(1145),re=t(15),ie=Object(ce.a)({bigAvatar:{width:80,height:80}}),oe=[{title:"LABEL.PATIENT_CODE",name:"kode_pasien",order:{active:!0,status:!0},filter:{active:!0,type:"text"}},{title:"LABEL.PATIENT_NAME",name:"nama",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.REGISTRATION_DATE",name:"created_at",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.ADDRESS",name:"kota",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.PHONE_NUMBER",name:"no_telp",order:{active:!0,status:!1},filter:{active:!0,type:"number"}},{title:"LABEL.EMAIL",name:"email",order:{active:!0,status:!1},filter:{active:!0,type:"number"}},{title:"LABEL.GENDER",name:"jk",order:{active:!0,status:!1},filter:{active:!1,type:"text"}},{title:"LABEL.TABLE_HEADER.ACTION",name:"action",order:{active:!1,status:!1},filter:{active:!1,type:"text"}}],se={};var me=Object(d.c)(Object(m.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!1),c=Object(s.a)(t,2),r=c[0],m=c[1],d=Object(n.useState)(!1),E=Object(s.a)(d,2),h=E[0],S=E[1],_=Object(n.useState)({data:[],count:0}),j=Object(s.a)(_,2),I=j[0],x=j[1],w=Object(n.useState)(!1),D=Object(s.a)(w,2),R=D[0],k=D[1],M=Object(n.useState)({}),P=Object(s.a)(M,2),F=P[0],U=P[1],H=Object(n.useState)([]),W=Object(s.a)(H,2),K=W[0],q=W[1],z=Object(n.useState)({}),Z=Object(s.a)(z,2),J=Z[0],X=Z[1],$=Object(n.useState)([]),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],ce=Object(n.useState)(!1),me=Object(s.a)(ce,2),ue=me[0],de=me[1],Ee=Object(n.useState)({}),pe=Object(s.a)(Ee,2),fe=pe[0],be=pe[1],ge=Object(n.useState)(!1),ve=Object(s.a)(ge,2),Ne=ve[0],Le=ve[1],Ae=ie(),he=Object(A.i)();Object(n.useLayoutEffect)((function(){he.setBreadcrumbs([{pathname:"/registry/regis-page/reservation",title:a.formatMessage({id:"LABEL.RESERVATION"})}]),he.setTitle(a.formatMessage({id:"LABEL.RESERVATION"}))}),[]);var Oe=B.b().shape({tgl_book:B.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),poli_id:B.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"}))}),ye=Object(C.b)({initialValues:se,validationSchema:Oe,onSubmit:function(){var e=Object(o.a)(i.a.mark((function e(t,n){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setStatus,n.setSubmitting,m(!0),(l=t).pasien_id=F.id,y(l).then((function(e){U({}),de(!1),m(!1),X({}),Le(!1),ye.resetForm(),T.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3)})).catch((function(e){var a;m(!1),T.a.showSnackbar(null===(a=e.response)||void 0===a?void 0:a.data.messages)}));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()});Object(n.useEffect)((function(){O.a.get("/api/v1/poli").then((function(e){var a=e.data.data;a.forEach((function(e){e.value=e.id,e.label=e.poli})),te(a)})).catch((function(e){T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),[]),Object(n.useEffect)((function(){O.a.get("/api/v1/pasien?page=1&rowsPerPage=100000").then((function(e){var a=e.data.data.rows;a.forEach((function(e){e.value=e.kode_pasien,e.label=e.kode_pasien+"-"+e.nama})),q(a)})).catch((function(e){T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),[]);var Se=function(e){(function(e){return O.a.get("/api/v1/pasien/".concat(e))})(e).then((function(e){be(e.data.data)})).catch((function(e){T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{open:ue,maxWidth:"md",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement("form",{autoComplete:"off",onSubmit:ye.handleSubmit},l.a.createElement(b.a,null,l.a.createElement(u.a,{id:"LABEL.REGISTRATION"})),l.a.createElement(g.a,null,l.a.createElement("div",{className:"row bg-primary p-5 rounded"},l.a.createElement("div",{className:"col-md-2 pt-5"},l.a.createElement(G.a,{alt:"Foto",src:Object(le.d)("/media/svg/avatars/004-boy-1.svg"),className:Ae.bigAvatar+" m-auto"}),l.a.createElement("div",{className:"text-center pt-5"},l.a.createElement(re.b,{to:"/registry/patient/list/".concat(null===fe||void 0===fe?void 0:fe.id),className:"btn btn-success"},"Detail"))),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"NIK"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:(null===fe||void 0===fe?void 0:fe.ktpno)||"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"Nama Lengkap"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:(null===fe||void 0===fe?void 0:fe.nama)||"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"Tempat, Tanggal Lahir"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:((null===fe||void 0===fe?void 0:fe.tempat_lahir)?null===fe||void 0===fe?void 0:fe.tempat_lahir:"")+", "+((null===fe||void 0===fe?void 0:fe.tgl_lahir)?window.moment(new Date(null===fe||void 0===fe?void 0:fe.tgl_lahir)).format("DD MMM YYYY"):"")||"",onChange:function(){},disabled:!0})))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"No Pasien"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:(null===fe||void 0===fe?void 0:fe.kode_pasien)||"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"Terakhir Kunjungan"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:(null===fe||void 0===fe?void 0:fe.last_time)?window.moment(new Date(null===fe||void 0===fe?void 0:fe.last_time)).format("DD MMM YYYY"):"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"Alamat"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("textarea",{rows:"3",className:"form-control",value:(null===fe||void 0===fe?void 0:fe.alamat)||"",onChange:function(){},disabled:!0}))))))),l.a.createElement("div",{className:"row my-5"},l.a.createElement("div",{className:"col-12 col-md-8"}),l.a.createElement("div",{className:"col-12 col-md-4 px-0 py-5"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text bg-primary"},l.a.createElement("i",{className:"far fa-calendar-plus text-light"}))),l.a.createElement("input",Object.assign({type:"date",className:"form-control",min:window.moment(new Date).format("YYYY-MM-DD"),required:!0,disabled:r},ye.getFieldProps("tgl_book")))),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text bg-primary"},l.a.createElement("i",{className:"far fa-list-alt text-light"}))),l.a.createElement(Q.a,{value:J,options:ae,isDisabled:r,className:"form-control border-0 p-0 h-100 rounded-0",classNamePrefix:"react-select",menuPlacement:"top",onChange:function(e){X(e),ye.setFieldValue("poli_id",e.value)}}))))),l.a.createElement(v.a,null,l.a.createElement("button",{type:"button",onClick:function(){de(!1),X({}),U({}),ye.resetForm()},className:"btn btn-danger",disabled:r},l.a.createElement(u.a,{id:"LABEL.CANCEL"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!ye.isValid||0===Object.keys(ye.touched).length&&ye.touched.constructor===Object||r},r?l.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}):l.a.createElement("i",{className:"fas fa-save ml-2"}),r?l.a.createElement(u.a,{id:"LABEL.WAITING"}):l.a.createElement(u.a,{id:"LABEL.SAVE"}))))),l.a.createElement(p.b,null,l.a.createElement(p.c,null,l.a.createElement("div",null,l.a.createElement("h1",{className:"text-uppercase text-center mb-5 pb-5"},l.a.createElement(u.a,{id:"LABEL.RESERVATION"}))),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},l.a.createElement("i",{className:"fas fa-qrcode"}))),l.a.createElement(Q.a,{value:F,options:K,isDisabled:!1,className:"form-control border-0 p-0 h-100 rounded-0",classNamePrefix:"react-select",onChange:function(e){U(e),Se(e.id),de(!0)}}),l.a.createElement("div",{className:"input-group-append cursor-pointer",onClick:function(){Le(!Ne)}},l.a.createElement("span",{className:"input-group-text bg-primary text-light"},l.a.createElement(u.a,{id:"LABEL.ADVANCED_SEARCH"})))),l.a.createElement(ne,{in:Ne},l.a.createElement("div",{className:"m-5"},l.a.createElement(V.a,{dataHeader:oe,handleParams:function(e){S(!0),x(Object(Y.a)(Object(Y.a)({},I),{},{count:0,data:[]})),k(!1),function(e){return O.a.get("/api/v1/pasien".concat(e?"?"+e:""))}(e).then((function(e){S(!1),x(Object(Y.a)(Object(Y.a)({},I),{},{count:e.data.data.count||0,data:e.data.data.rows}))})).catch((function(e){k(!0),S(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))},loading:h,err:R,countData:I.count,hecto:13},I.data.map((function(e,a){return l.a.createElement(N.a,{key:a.toString()},l.a.createElement(L.a,null,e.kode_pasien),l.a.createElement(L.a,null,null===e||void 0===e?void 0:e.nama),l.a.createElement(L.a,null,window.moment(new Date(null===e||void 0===e?void 0:e.created_at)).format("DD MMM YYYY")),l.a.createElement(L.a,null,null===e||void 0===e?void 0:e.kota),l.a.createElement(L.a,null,null===e||void 0===e?void 0:e.no_telp),l.a.createElement(L.a,null,null===e||void 0===e?void 0:e.email),l.a.createElement(L.a,null,"L"===(null===e||void 0===e?void 0:e.jk)?"Laki-Laki":"Perempuan"),l.a.createElement(L.a,null,l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){var a=e;a.value=a.kode_pasien,a.label=a.kode_pasien+"-"+a.nama,U(a),Se(e.id),de(!0)}},"Pilih")))}))))))))}))),ue=[{title:"LABEL.PATIENT_CODE",name:"kode_pasien",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.REGISTRATION_NO",name:"kode_reg",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.PATIENT_NAME",name:"nama",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.REGISTRATION_DATE",name:"created_at",order:{active:!0,status:!0,type:!1},filter:{active:!0,type:"date"}},{title:"LABEL.DATE_OF_VISIT",name:"tgl_book",order:{active:!0,status:!1},filter:{active:!0,type:"date"}},{title:"LABEL.POLI",name:"poli",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.STATUS",name:"status",order:{active:!1,status:!1},filter:{active:!1,type:"text"}},{title:"LABEL.TABLE_HEADER.ACTION",name:"action",order:{active:!1,status:!1},filter:{active:!1,type:"text"}}],de=[{label:"LABEL.VISIT_DETAILS",icon:"fas fa-external-link-alt text-primary",type:"open"}];var Ee=Object(d.c)(Object(m.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!0),c=Object(s.a)(t,2),r=c[0],i=c[1],o=Object(n.useState)({data:[],count:0}),m=Object(s.a)(o,2),d=m[0],E=m[1],f=Object(n.useState)(!1),b=Object(s.a)(f,2),g=b[0],v=b[1],h=Object(A.i)();Object(n.useLayoutEffect)((function(){h.setBreadcrumbs([{pathname:"/registry/regis-page/list",title:a.formatMessage({id:"LABEL.RESERVATION_LIST"})}]),h.setTitle(a.formatMessage({id:"LABEL.RESERVATION_LIST"}))}),[]);var y=function(a,t){e.history.push("/registry/patient/list/".concat(t.id))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.b,null,l.a.createElement(p.c,null,l.a.createElement(V.a,{dataHeader:ue,handleParams:function(e){i(!0),E(Object(Y.a)(Object(Y.a)({},d),{},{count:0,data:[]})),v(!1),function(e){return O.a.get("/api/v1/reservasiall".concat(e?"?"+e:""))}(e).then((function(e){i(!1),E(Object(Y.a)(Object(Y.a)({},d),{},{count:e.data.data.count||0,data:e.data.data.rows}))})).catch((function(e){v(!0),i(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))},loading:r,err:g,countData:d.count,hecto:10},d.data.map((function(e,a){return l.a.createElement(N.a,{key:a.toString()},l.a.createElement(L.a,null,e.kode_pasien),l.a.createElement(L.a,null,e.kode_reg),l.a.createElement(L.a,null,null===e||void 0===e?void 0:e.nama),l.a.createElement(L.a,null,window.moment(new Date(null===e||void 0===e?void 0:e.created_at)).format("DD MMM YYYY")),l.a.createElement(L.a,null,window.moment(new Date(null===e||void 0===e?void 0:e.tgl_book)).format("DD MMM YYYY")),l.a.createElement(L.a,null,null===e||void 0===e?void 0:e.poli),l.a.createElement(L.a,null,"1"===e.status?l.a.createElement(u.a,{id:"LABEL.BOOKING"}):"2"===e.status?l.a.createElement(u.a,{id:"LABEL.CANCELED"}):l.a.createElement(u.a,{id:"LABEL.CHECK_IN"})),l.a.createElement(L.a,null,l.a.createElement(I.a,{data:e,handleAction:y,ops:de})))}))))))})));a.default=Object(d.c)(Object(m.b)(null,null)((function(e){return l.a.createElement(c.d,null,l.a.createElement(c.a,{exact:!0,from:"/registry/regis-page",to:"/registry/dashboard"}),l.a.createElement(c.b,{path:"/registry/regis-page/list-online",component:function(e){return l.a.createElement(R,e)},exact:!0}),l.a.createElement(c.b,{path:"/registry/regis-page/list-offline",component:function(e){return l.a.createElement(F,e)},exact:!0}),l.a.createElement(c.b,{path:"/registry/regis-page/list-check-in",component:function(e){return l.a.createElement(H,e)},exact:!0}),l.a.createElement(c.b,{path:"/registry/regis-page/reservation",component:function(e){return l.a.createElement(me,e)},exact:!0}),l.a.createElement(c.b,{path:"/registry/regis-page/list-all",component:function(e){return l.a.createElement(Ee,e)},exact:!0}))})))}}]);
//# sourceMappingURL=5.b0a331f6.chunk.js.map