(this.webpackJsonpaplication=this.webpackJsonpaplication||[]).push([[33],{1249:function(e,a,t){"use strict";function r(e,a,t,r,n,s,c){try{var l=e[s](c),i=l.value}catch(o){return void t(o)}l.done?a(i):Promise.resolve(i).then(r,n)}function n(e){return function(){var a=this,t=arguments;return new Promise((function(n,s){var c=e.apply(a,t);function l(e){r(c,n,s,l,i,"next",e)}function i(e){r(c,n,s,l,i,"throw",e)}l(void 0)}))}}t.d(a,"a",(function(){return n}))},1344:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(99),c=t(93),l=t.n(c),i=t(1249),o=t(12),m=t(14),u=t(1229),d=t(279),f=t(371),E=t(1245),b=t(1222),p=t(1223),v=t(1225),g=t(30),A=t(57),L=t.n(A);function N(e){return L.a.post("/api/v1/testimoni/staff",e)}var h=t(48),O=t(60),S=t(104),j=t(372),w={};var I=Object(d.c)(Object(m.b)(null,null)((function(e){var a=e.intl,t=Object(r.useState)({}),s=Object(o.a)(t,2),c=s[0],m=s[1],d=Object(r.useState)([]),A=Object(o.a)(d,2),I=A[0],F=A[1],x=Object(r.useState)(!1),T=Object(o.a)(x,2),y=T[0],C=T[1],D=Object(r.useState)(!1),k=Object(o.a)(D,2),B=k[0],M=k[1],_=Object(r.useState)(!1),P=Object(o.a)(_,2),R=(P[0],P[1],Object(g.i)());Object(r.useLayoutEffect)((function(){R.setBreadcrumbs([{pathname:"/registry/dashboard",title:a.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/registry/testimonial",title:a.formatMessage({id:"LABEL.TESTIMONIAL"})}]),R.setTitle(a.formatMessage({id:"LABEL.TESTIMONIAL"}))}),[]),Object(r.useEffect)((function(){L.a.get("/api/v1/pasien?page=1&rowsPerPage=100000").then((function(e){e.data.data.rows=e.data.data.rows.filter((function(e){return 1===e.active_user}));var a=e.data.data.rows;a.forEach((function(e){e.value=e.id,e.label=e.kode_pasien+"-"+e.nama})),F(a)})).catch((function(e){h.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),[]);var V=O.b().shape({star:O.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),testimoni:O.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"}))}),U=Object(S.b)({initialValues:w,validationSchema:V,onSubmit:function(){var e=Object(i.a)(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setStatus,r.setSubmitting,M(!0),(n=t).pasien_id=c.value,N(n).then((function(e){m({}),C(!1),M(!1),U.resetForm(),h.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3)})).catch((function(e){var a;M(!1),h.a.showSnackbar(null===(a=e.response)||void 0===a?void 0:a.data.messages)}));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}),z=function(e){U.setFieldValue("star",e);for(var a=1;a<=5;a++)window.$("#star".concat(a)).removeClass("fas far"),a<=e?window.$("#star".concat(a)).addClass("fas"):window.$("#star".concat(a)).addClass("far")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.a,{open:y,maxWidth:"md",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.a.createElement("form",{autoComplete:"off",onSubmit:U.handleSubmit},n.a.createElement(b.a,null,n.a.createElement(u.a,{id:"LABEL.TESTIMONIAL"})),n.a.createElement(p.a,null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-3 col-form-label"},n.a.createElement(u.a,{id:"LABEL.SATISFACTION_LAVEL"})),n.a.createElement("div",{className:"col-sm-9"},n.a.createElement("div",{className:"mb-3"},n.a.createElement("i",{className:"far fa-star cursor-pointer mx-2",style:{color:"#FFD700",fontSize:"large",verticalAlign:"bottom"},id:"star1",onClick:function(){z(1)}}),n.a.createElement("i",{className:"far fa-star cursor-pointer mx-2",style:{color:"#FFD700",fontSize:"large",verticalAlign:"bottom"},id:"star2",onClick:function(){z(2)}}),n.a.createElement("i",{className:"far fa-star cursor-pointer mx-2",style:{color:"#FFD700",fontSize:"large",verticalAlign:"bottom"},id:"star3",onClick:function(){z(3)}}),n.a.createElement("i",{className:"far fa-star cursor-pointer mx-2",style:{color:"#FFD700",fontSize:"large",verticalAlign:"bottom"},id:"star4",onClick:function(){z(4)}}),n.a.createElement("i",{className:"far fa-star cursor-pointer mx-2",style:{color:"#FFD700",fontSize:"large",verticalAlign:"bottom"},id:"star5",onClick:function(){z(5)}})),U.touched.star&&U.errors.star&&n.a.createElement("span",{className:"text-left text-danger"},U.errors.star))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-3 col-form-label"},n.a.createElement(u.a,{id:"LABEL.COMMENT"})),n.a.createElement("div",{className:"col-sm-9"},n.a.createElement("textarea",Object.assign({rows:"3",className:"form-control"},U.getFieldProps("testimoni"))),U.touched.testimoni&&U.errors.testimoni&&n.a.createElement("span",{className:"text-left text-danger"},U.errors.testimoni)))),n.a.createElement(v.a,null,n.a.createElement("button",{type:"button",onClick:function(){C(!1),m({}),U.resetForm()},className:"btn btn-danger",disabled:B},n.a.createElement(u.a,{id:"LABEL.CANCEL"})),n.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!U.isValid||0===Object.keys(U.touched).length&&U.touched.constructor===Object||B},B?n.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}):n.a.createElement("i",{className:"fas fa-save ml-2"}),B?n.a.createElement(u.a,{id:"LABEL.WAITING"}):n.a.createElement(u.a,{id:"LABEL.SAVE"}))))),n.a.createElement(f.b,null,n.a.createElement(f.c,null,n.a.createElement("div",null,n.a.createElement("h1",{className:"text-uppercase text-center mb-5 pb-5"},n.a.createElement(u.a,{id:"LABEL.TESTIMONIAL"}))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},n.a.createElement("i",{className:"fas fa-qrcode"}))),n.a.createElement(j.a,{value:c,options:I,isDisabled:!1,className:"form-control border-0 p-0 h-100 rounded-0",classNamePrefix:"react-select",onChange:function(e){m(e),C(!0),U.setFieldTouched("star",!0)}})))))})));a.default=Object(d.c)(Object(m.b)(null,null)((function(e){return n.a.createElement(s.d,null,n.a.createElement(s.b,{path:"/registry/testimonial",component:function(e){return n.a.createElement(I,e)},exact:!0}))})))}}]);
//# sourceMappingURL=33.c5f16d6f.chunk.js.map