(this.webpackJsonpaplication=this.webpackJsonpaplication||[]).push([[12],{1247:function(e,t,a){},1248:function(e,t,a){"use strict";function n(e,t,a,n,c,r,l){try{var i=e[r](l),s=i.value}catch(o){return void a(o)}i.done?t(s):Promise.resolve(s).then(n,c)}function c(e){return function(){var t=this,a=arguments;return new Promise((function(c,r){var l=e.apply(t,a);function i(e){n(l,c,r,i,s,"next",e)}function s(e){n(l,c,r,i,s,"throw",e)}i(void 0)}))}}a.d(t,"a",(function(){return c}))},1249:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(11),c=a(0),r=a.n(c),l=a(22),i=a(1245),s=a(1189),o=a(1291),m=a(1315),u=a(1265),d=a(1266),E=a(1270),f=a(1227),p=a(15),b=Object(l.a)((function(e){return{tooltip:{boxShadow:e.shadows[1],fontSize:"0.875rem",marginTop:"0.25rem"}}}))(i.a);function h(e){var t=e.data,a=e.handleAction,c=e.ops,l=e.label,i=void 0===l?null:l,h=e.exclude,g=void 0===h?[]:h,y=r.a.useState(null),O=Object(n.a)(y,2),v=O[0],N=O[1],j=Boolean(v);function L(e){N(e.currentTarget)}function A(){N(null)}var T=r.a.useCallback((function(e,t){"function"===typeof a&&a(e,t),A()}),[a,A]),k=c;return r.a.createElement("div",null,i?r.a.createElement(b,{title:r.a.createElement(f.a,{id:i}),placement:"bottom"},r.a.createElement(s.a,{"aria-label":"More","aria-controls":"long-menu","aria-haspopup":"true",onClick:L},r.a.createElement(E.a,null))):r.a.createElement(s.a,{"aria-label":"More","aria-controls":"long-menu","aria-haspopup":"true",onClick:L,style:{margin:"-6px 0px",padding:8}},r.a.createElement(E.a,null)),r.a.createElement(o.a,{id:"long-menu",anchorEl:v,keepMounted:!0,open:j,onClose:A,PaperProps:{style:{width:300,marginLeft:-50}}},k.filter((function(e){return!g.includes(e.type)})).map((function(e,a){var n,c;return e.to?r.a.createElement(p.b,{key:a,to:null===(n=e.to)||void 0===n?void 0:n.url,style:null===(c=e.to)||void 0===c?void 0:c.style},r.a.createElement(m.a,null,r.a.createElement(u.a,null,r.a.createElement("i",{className:e.icon})),r.a.createElement(d.a,{primary:r.a.createElement(f.a,{id:e.label})}))):r.a.createElement(m.a,{key:a,onClick:function(){return T(e.type,t)},disabled:e.disabled},r.a.createElement(u.a,null,r.a.createElement("i",{className:e.icon})),r.a.createElement(d.a,{primary:r.a.createElement(f.a,{id:e.label})}))}))))}},1251:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(16),l=a(1227),i=a(288),s=a(1278),o=a(1188),m=a(1279),u=a(1280),d=a(1281),E=a(1282),f=a(1283);a(1247);t.a=Object(i.c)(Object(r.b)(null,null)((function(e){e.intl;var t=e.dataHeader,a=void 0===t?[]:t,n=e.loading,r=void 0!==n&&n,i=e.err,p=void 0!==i&&i,b=e.children,h=e.hecto,g=void 0===h?1:h;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(s.a,{component:o.a},c.a.createElement(m.a,{className:"hecto-"+g},c.a.createElement(u.a,null,c.a.createElement(d.a,null,a.map((function(e,t){return c.a.createElement(E.a,{className:"bg-primary text-uppercase",key:t.toString()},c.a.createElement("span",null,c.a.createElement(l.a,{id:e.title})))})))),c.a.createElement(f.a,null,b)),c.a.createElement("div",{className:"table-loading-data"},c.a.createElement("div",{className:"text-center font-weight-bold py-5"},c.a.createElement("div",{className:"table-loading-data-potition"},r&&c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-spinner fa-pulse text-dark mr-1"}),c.a.createElement(l.a,{id:"LABEL.TABLE.WAITING_DATA"})),p&&c.a.createElement("span",{className:"text-danger"},c.a.createElement("i",{className:"far fa-frown text-danger mr-1"}),c.a.createElement(l.a,{id:"LABEL.ERROR_REQUEST"}))))))))})))},1253:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=function(e,t,a){var n={currency:t,style:"currency",currencyDisplay:"symbol"};return new Intl.NumberFormat(e,n).format(a)},c=function(e){return n("id-ID","IDR",e)}},1263:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"h",(function(){return l})),a.d(t,"g",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"i",(function(){return m})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return E}));var n=a(75),c=a.n(n);function r(e){return c.a.get("/api/v1/medical/".concat(e))}function l(e){return c.a.get("/api/v1/obat".concat(e?"?"+e:""))}function i(e){return c.a.get("/api/v1/obat/".concat(e))}function s(e){return c.a.post("/api/v1/obat",e)}function o(e,t){return c.a.put("/api/v1/obat/".concat(e),t)}function m(e){return c.a.post("/api/v1/apotekcheck",e)}function u(e){return c.a.post("/api/v1/obat-in",e)}function d(){return c.a.get("/api/v1/getemptyitem")}function E(){return c.a.get("/api/v1/getwarnitem")}},1265:function(e,t,a){"use strict";var n=a(1),c=a(14),r=a(0),l=(a(9),a(10)),i=a(22),s=a(1256),o=r.forwardRef((function(e,t){var a=e.classes,i=e.className,o=Object(c.a)(e,["classes","className"]),m=r.useContext(s.a);return r.createElement("div",Object(n.a)({className:Object(l.a)(a.root,i,"flex-start"===m.alignItems&&a.alignItemsFlexStart),ref:t},o))}));t.a=Object(i.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(o)},1266:function(e,t,a){"use strict";var n=a(1),c=a(14),r=a(0),l=(a(9),a(10)),i=a(22),s=a(555),o=a(1256),m=r.forwardRef((function(e,t){var a=e.children,i=e.classes,m=e.className,u=e.disableTypography,d=void 0!==u&&u,E=e.inset,f=void 0!==E&&E,p=e.primary,b=e.primaryTypographyProps,h=e.secondary,g=e.secondaryTypographyProps,y=Object(c.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),O=r.useContext(o.a).dense,v=null!=p?p:a;null==v||v.type===s.a||d||(v=r.createElement(s.a,Object(n.a)({variant:O?"body2":"body1",className:i.primary,component:"span",display:"block"},b),v));var N=h;return null==N||N.type===s.a||d||(N=r.createElement(s.a,Object(n.a)({variant:"body2",className:i.secondary,color:"textSecondary",display:"block"},g),N)),r.createElement("div",Object(n.a)({className:Object(l.a)(i.root,m,O&&i.dense,f&&i.inset,v&&N&&i.multiline),ref:t},y),v,N)}));t.a=Object(i.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(m)},1270:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(1),l=a(556);t.a=function(e,t){var a=c.a.memo(c.a.forwardRef((function(t,a){return c.a.createElement(l.a,Object(r.a)({ref:a},t),e)})));return a.muiName=l.a.muiName,a}(c.a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))},1312:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(104),l=a(97),i=a.n(l),s=a(1248),o=a(11),m=a(16),u=a(1227),d=a(288),E=a(157),f=a(62),p=a(19),b=(a(4),a(3),a(1263)),h=(a(37),a(1253)),g=a(1250),y=a(98);var O=Object(d.c)(Object(m.b)(null,y.a)((function(e){var t=e.intl,a=Object(r.g)(),l=Object(n.useState)(!0),d=Object(o.a)(l,2),y=(d[0],d[1]),O=Object(n.useState)(!1),v=Object(o.a)(O,2),N=v[0],j=(v[1],Object(n.useState)(!1)),L=Object(o.a)(j,2),A=L[0],T=L[1],k=Object(n.useState)({}),_=Object(o.a)(k,2),S=_[0],x=_[1],w=Object(n.useState)({}),R=Object(o.a)(w,2),B=(R[0],R[1]),I=Object(n.useState)(!1),C=Object(o.a)(I,2),M=(C[0],C[1],Object(p.k)()),D=Object(n.useState)([]),U=Object(o.a)(D,2),P=(U[0],U[1]),F=Object(n.useState)([]),q=Object(o.a)(F,2),Q=q[0],H=q[1],z=Object(n.useState)([]),G=Object(o.a)(z,2),K=G[0],Y=G[1],V=(e.match.params.id,e.match.params.resep_id),W=e.match.params.medical_id;function J(){return(J=Object(s.a)(i.a.mark((function e(a){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a&&a.length>0)){e.next=6;break}return n=a,c=new Promise(function(){var e=Object(s.a)(i.a.mark((function e(a,c){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<n.length)){e.next=18;break}return e.prev=2,e.next=5,Object(b.g)(n[r].id);case 5:l=e.sent,n[r].composite_item=l.data.data.composite_item,n[r].qty=n[r].qty?n[r].qty:1,r===n.length-1&&a(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),f.a.showSnackbar(t.formatMessage({id:"REQ.REQUEST_FAILED"})),r===n.length-1&&a();case 15:r++,e.next=1;break;case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),e.next=5,c;case 5:H(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.e)((function(e){return e.auth.medicinePatient}),m.c),Object(m.e)((function(e){return e.clientMqtt.client}),m.c),Object(n.useLayoutEffect)((function(){M.setBreadcrumbs([{pathname:"/pharmacist/dashboard",title:t.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/pharmacist/handling-page/process/".concat(W,"/").concat(V),title:t.formatMessage({id:"LABEL.MEDICAL_RECORD"})}]),M.setTitle(t.formatMessage({id:"LABEL.MEDICAL_RECORD"}))}),[]),Object(n.useEffect)((function(){y(!0),Object(b.f)(W).then((function(e){y(!1),x(e.data.data.form[0]),P(e.data.data.screen),B(e.data.data.labs?e.data.data.labs:{}),function(e){J.apply(this,arguments)}(e.data.data.resep?e.data.data.resep:[])})).catch((function(e){y(!1),f.a.showSnackbar(t.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("div",{className:"card card-custom wave wave-animate-fast wave-primary gutter-b"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("div",{className:"symbol symbol-40 symbol-light-danger mr-5"},c.a.createElement("span",{className:"symbol-label"},c.a.createElement("i",{className:"fas fa-hospital-user h-75 align-self-end font-size-h1"}))),c.a.createElement("div",{className:"d-flex flex-column flex-grow-1 font-weight-bold"},c.a.createElement("h4",{className:"text-dark mb-1"},"Nomor Kunjungan: ",S.code_reg),c.a.createElement("span",{className:"text-muted"},S.created_at?window.moment(new Date(S.created_at)).format("DD MMM YYYY"):"")))))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("div",{className:"card card-custom wave wave-animate-fast wave-primary gutter-b"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("div",{className:"symbol symbol-40 symbol-light-danger mr-5"},c.a.createElement("span",{className:"symbol-label"},c.a.createElement("i",{className:"fas fa-user-nurse h-75 align-self-end font-size-h1"}))),c.a.createElement("div",{className:"d-flex flex-column flex-grow-1 font-weight-bold"},c.a.createElement("h4",{className:"text-dark mb-1"},S.pasien),c.a.createElement("span",{className:"text-muted"},S.poli))))))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement(E.b,null,c.a.createElement(E.d,{title:"Resep Yang Diberikan"},c.a.createElement(E.f,null)),c.a.createElement(E.c,null,c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Nama Obat"),c.a.createElement("th",null,"Unit"),c.a.createElement("th",null,"Harga"),c.a.createElement("th",null,"Sub Total"),c.a.createElement("th",null,c.a.createElement(u.a,{id:"LABEL.AVAILABLE"})))),Q.map((function(e,t){return c.a.createElement("tbody",{key:t.toString()},c.a.createElement("tr",null,c.a.createElement("td",null,e.nama),c.a.createElement("td",null,c.a.createElement(g.a,{value:e.qty,id:"NumberFormat-text",displayType:"text",className:"form-control",allowEmptyFormatting:!0,allowLeadingZeros:!1,allowNegative:!1,onValueChange:function(t){var a=Object.assign([],Q),n=a.findIndex((function(t){return t.id===e.id}));a[n].qty=t.floatValue?t.floatValue:0,H(a)}})),c.a.createElement("td",null,Object(h.a)(e.harga)),c.a.createElement("td",null,Object(h.a)(e.harga*e.qty)),c.a.createElement("td",null,c.a.createElement("input",{type:"checkbox",className:"form-check-input",style:{width:25,height:25},onChange:function(t){var a=Object.assign([],K);if(t.target.checked)a.push(e);else{var n=a.findIndex((function(t){return t.id===e.id}));a.splice(n,1)}Y(a)},disabled:A}))),e.composite_item&&e.composite_item.map((function(e,t){return c.a.createElement("tr",{key:t.toString(),style:{backgroundColor:"#F3F6F9"}},c.a.createElement("td",{className:"pl-10"},e.nama),c.a.createElement("td",null,c.a.createElement("input",{type:"number",className:"form-control",value:e.qty,onChange:function(){},disabled:!0})),c.a.createElement("td",null,Object(h.a)(0)),c.a.createElement("td",null,Object(h.a)(0)),c.a.createElement("td",null))})))}))))))),c.a.createElement("div",{className:"toolbar-custom scrolltop"},c.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm my-2",style:{width:60},disabled:N||A,onClick:function(){a.push("/pharmacist/dashboard")}},c.a.createElement("i",{className:"fas fa-times-circle d-block p-0"}),c.a.createElement("span",{className:"font-size-xs"},"Cancel")),c.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm my-2",style:{width:60},disabled:N||A,onClick:function(){!function(){var e;T(!0),(n=Q.filter((e=K,function(t){return 0===e.filter((function(e){return e.id===t.id})).length}))).forEach((function(e){return e.barang_id=e.id}));var n={resep_id:V,preorder:n};Object(b.i)(n).then((function(e){T(!1),a.push("/pharmacist/dashboard"),f.a.showSnackbar(t.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success")})).catch((function(e){T(!1),f.a.showSnackbar(t.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}()}},A?c.a.createElement("i",{className:"fas fa-spinner fa-pulse p-2"}):c.a.createElement("i",{className:"fas fa-check d-block p-0"}),c.a.createElement("span",{className:"font-size-xs"},"Submit"))))}))),v=a(1251),N=a(1281),j=a(1282),L=(a(1249),a(68),a(85),[{title:"LABEL.PRODUCT_CODE"},{title:"LABEL.PRODUCT_NAME"},{title:"LABEL.UNIT_TYPE"},{title:"LABEL.UNIT_PRICE"},{title:"LABEL.PACKAGE"},{title:"LABEL.NUMBER_OF_ENTRIES"},{title:"LABEL.EXIT_AMOUNT"},{title:"LABEL.STOCK"},{title:"LABEL.TABLE_HEADER.ACTION"}]);var A=Object(d.c)(Object(m.b)(null,null)((function(e){var t=e.intl,a=Object(n.useState)(!0),r=Object(o.a)(a,2),l=r[0],i=r[1],s=Object(n.useState)([]),m=Object(o.a)(s,2),u=m[0],d=m[1],g=Object(p.k)();return Object(n.useLayoutEffect)((function(){g.setBreadcrumbs([{pathname:"/pharmacist/dashboard",title:t.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/pharmacist/handling-page/list-empty",title:t.formatMessage({id:"LABEL.OUT_OF_MEDICINE"})}]),g.setTitle(t.formatMessage({id:"LABEL.OUT_OF_MEDICINE"}))}),[]),Object(n.useEffect)((function(){i(!0),Object(b.d)().then((function(e){i(!1),d(e.data.data)})).catch((function(e){i(!1),f.a.showSnackbar(t.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(E.b,null,c.a.createElement(E.c,null,c.a.createElement(v.a,{dataHeader:L,loading:l,hecto:10},u.map((function(e,t){return c.a.createElement(N.a,{key:t.toString()},c.a.createElement(j.a,null,e.barcode),c.a.createElement(j.a,null,e.nama),c.a.createElement(j.a,null,e.unit),c.a.createElement(j.a,null,Object(h.a)(e.harga)),c.a.createElement(j.a,null,0===e.iscomposite?"Tidak Paket":"Paket"),c.a.createElement(j.a,null,e.in_qty),c.a.createElement(j.a,null,e.out_qty),c.a.createElement(j.a,null,e.stock),c.a.createElement(j.a,null))}))))))}))),T=[{title:"LABEL.PRODUCT_CODE"},{title:"LABEL.PRODUCT_NAME"},{title:"LABEL.UNIT_TYPE"},{title:"LABEL.UNIT_PRICE"},{title:"LABEL.PACKAGE"},{title:"LABEL.NUMBER_OF_ENTRIES"},{title:"LABEL.EXIT_AMOUNT"},{title:"LABEL.STOCK"},{title:"LABEL.TABLE_HEADER.ACTION"}];var k=Object(d.c)(Object(m.b)(null,null)((function(e){var t=e.intl,a=Object(n.useState)(!0),r=Object(o.a)(a,2),l=r[0],i=r[1],s=Object(n.useState)([]),m=Object(o.a)(s,2),u=m[0],d=m[1],g=Object(p.k)();return Object(n.useLayoutEffect)((function(){g.setBreadcrumbs([{pathname:"/pharmacist/dashboard",title:t.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/pharmacist/handling-page/list-stock",title:t.formatMessage({id:"LABEL.DRUG_STOCKS_ARE_RUNNING_OUT"})}]),g.setTitle(t.formatMessage({id:"LABEL.DRUG_STOCKS_ARE_RUNNING_OUT"}))}),[]),Object(n.useEffect)((function(){i(!0),Object(b.e)().then((function(e){i(!1),d(e.data.data)})).catch((function(e){i(!1),f.a.showSnackbar(t.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(E.b,null,c.a.createElement(E.c,null,c.a.createElement(v.a,{dataHeader:T,loading:l,hecto:10},u.map((function(e,t){return c.a.createElement(N.a,{key:t.toString()},c.a.createElement(j.a,null,e.barcode),c.a.createElement(j.a,null,e.nama),c.a.createElement(j.a,null,e.unit),c.a.createElement(j.a,null,Object(h.a)(e.harga)),c.a.createElement(j.a,null,0===e.iscomposite?"Tidak Paket":"Paket"),c.a.createElement(j.a,null,e.in_qty),c.a.createElement(j.a,null,e.out_qty),c.a.createElement(j.a,null,e.stock),c.a.createElement(j.a,null))}))))))})));t.default=Object(d.c)(Object(m.b)(null,null)((function(e){return c.a.createElement(r.d,null,c.a.createElement(r.a,{exact:!0,from:"/pharmacist/handling-page",to:"/pharmacist/dashboard"}),c.a.createElement(r.b,{path:"/pharmacist/handling-page/process/:medical_id/:resep_id",component:function(e){return c.a.createElement(O,e)},exact:!0}),c.a.createElement(r.b,{path:"/pharmacist/handling-page/list-empty",component:function(e){return c.a.createElement(A,e)},exact:!0}),c.a.createElement(r.b,{path:"/pharmacist/handling-page/list-stock",component:function(e){return c.a.createElement(k,e)},exact:!0}))})))}}]);
//# sourceMappingURL=12.584f88b5.chunk.js.map