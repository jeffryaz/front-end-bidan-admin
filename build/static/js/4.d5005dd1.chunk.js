(this.webpackJsonpaplication=this.webpackJsonpaplication||[]).push([[4],{1241:function(e,a,t){"use strict";var n=t(0),c=n.createContext();a.a=c},1242:function(e,a,t){"use strict";var n=t(0),c=t.n(n),r=t(25),l=t(1223),i=t(276),o=t(1257),s=t(1180),d=t(1258),m=t(1259),u=t(1260),E=t(1261),p=t(1262);t(1243);a.a=Object(i.c)(Object(r.b)(null,null)((function(e){e.intl;var a=e.dataHeader,t=void 0===a?[]:a,n=e.loading,r=void 0!==n&&n,i=e.err,b=void 0!==i&&i,f=e.children,g=e.hecto,v=void 0===g?1:g;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(o.a,{component:s.a},c.a.createElement(d.a,{className:"hecto-"+v},c.a.createElement(m.a,null,c.a.createElement(u.a,null,t.map((function(e,a){return c.a.createElement(E.a,{className:"bg-primary text-uppercase",key:a.toString()},c.a.createElement("span",null,c.a.createElement(l.a,{id:e.title})))})))),c.a.createElement(p.a,null,f)),c.a.createElement("div",{className:"table-loading-data"},c.a.createElement("div",{className:"text-center font-weight-bold py-5"},c.a.createElement("div",{className:"table-loading-data-potition"},r&&c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-spinner fa-pulse text-dark mr-1"}),c.a.createElement(l.a,{id:"LABEL.TABLE.WAITING_DATA"})),b&&c.a.createElement("span",{className:"text-danger"},c.a.createElement("i",{className:"far fa-frown text-danger mr-1"}),c.a.createElement(l.a,{id:"LABEL.ERROR_REQUEST"}))))))))})))},1243:function(e,a,t){},1246:function(e,a,t){"use strict";var n=t(0),c=n.createContext();a.a=c},1257:function(e,a,t){"use strict";var n=t(1),c=t(12),r=t(0),l=(t(7),t(11)),i=t(21),o=r.forwardRef((function(e,a){var t=e.classes,i=e.className,o=e.component,s=void 0===o?"div":o,d=Object(c.a)(e,["classes","className","component"]);return r.createElement(s,Object(n.a)({ref:a,className:Object(l.a)(t.root,i)},d))}));a.a=Object(i.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(o)},1258:function(e,a,t){"use strict";var n=t(12),c=t(1),r=t(0),l=(t(7),t(11)),i=t(21),o=t(1246),s=r.forwardRef((function(e,a){var t=e.classes,i=e.className,s=e.component,d=void 0===s?"table":s,m=e.padding,u=void 0===m?"default":m,E=e.size,p=void 0===E?"medium":E,b=e.stickyHeader,f=void 0!==b&&b,g=Object(n.a)(e,["classes","className","component","padding","size","stickyHeader"]),v=r.useMemo((function(){return{padding:u,size:p,stickyHeader:f}}),[u,p,f]);return r.createElement(o.a.Provider,{value:v},r.createElement(d,Object(c.a)({role:"table"===d?null:"table",ref:a,className:Object(l.a)(t.root,i,f&&t.stickyHeader)},g)))}));a.a=Object(i.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(c.a)(Object(c.a)({},e.typography.body2),{},{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(s)},1259:function(e,a,t){"use strict";var n=t(1),c=t(12),r=t(0),l=(t(7),t(11)),i=t(21),o=t(1241),s={variant:"head"},d=r.forwardRef((function(e,a){var t=e.classes,i=e.className,d=e.component,m=void 0===d?"thead":d,u=Object(c.a)(e,["classes","className","component"]);return r.createElement(o.a.Provider,{value:s},r.createElement(m,Object(n.a)({className:Object(l.a)(t.root,i),ref:a,role:"thead"===m?null:"rowgroup"},u)))}));a.a=Object(i.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(d)},1260:function(e,a,t){"use strict";var n=t(1),c=t(12),r=t(0),l=(t(7),t(11)),i=t(21),o=t(1241),s=t(84),d=r.forwardRef((function(e,a){var t=e.classes,i=e.className,s=e.component,d=void 0===s?"tr":s,m=e.hover,u=void 0!==m&&m,E=e.selected,p=void 0!==E&&E,b=Object(c.a)(e,["classes","className","component","hover","selected"]),f=r.useContext(o.a);return r.createElement(d,Object(n.a)({ref:a,className:Object(l.a)(t.root,i,f&&{head:t.head,footer:t.footer}[f.variant],u&&t.hover,p&&t.selected),role:"tr"===d?null:"row"},b))}));a.a=Object(i.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(s.c)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(d)},1261:function(e,a,t){"use strict";var n=t(12),c=t(1),r=t(0),l=(t(7),t(11)),i=t(21),o=t(35),s=t(84),d=t(1246),m=t(1241),u=r.forwardRef((function(e,a){var t,i,s=e.align,u=void 0===s?"inherit":s,E=e.classes,p=e.className,b=e.component,f=e.padding,g=e.scope,v=e.size,h=e.sortDirection,N=e.variant,O=Object(n.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),y=r.useContext(d.a),j=r.useContext(m.a),A=j&&"head"===j.variant;b?(i=b,t=A?"columnheader":"cell"):i=A?"th":"td";var L=g;!L&&A&&(L="col");var x=f||(y&&y.padding?y.padding:"default"),T=v||(y&&y.size?y.size:"medium"),S=N||j&&j.variant,C=null;return h&&(C="asc"===h?"ascending":"descending"),r.createElement(i,Object(c.a)({ref:a,className:Object(l.a)(E.root,E[S],p,"inherit"!==u&&E["align".concat(Object(o.a)(u))],"default"!==x&&E["padding".concat(Object(o.a)(x))],"medium"!==T&&E["size".concat(Object(o.a)(T))],"head"===S&&y&&y.stickyHeader&&E.stickyHeader),"aria-sort":C,role:t,scope:L},O))}));a.a=Object(i.a)((function(e){return{root:Object(c.a)(Object(c.a)({},e.typography.body2),{},{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(s.e)(Object(s.c)(e.palette.divider,1),.88):Object(s.a)(Object(s.c)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0px 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(u)},1262:function(e,a,t){"use strict";var n=t(1),c=t(12),r=t(0),l=(t(7),t(11)),i=t(21),o=t(1241),s={variant:"body"},d=r.forwardRef((function(e,a){var t=e.classes,i=e.className,d=e.component,m=void 0===d?"tbody":d,u=Object(c.a)(e,["classes","className","component"]);return r.createElement(o.a.Provider,{value:s},r.createElement(m,Object(n.a)({className:Object(l.a)(t.root,i),ref:a,role:"tbody"===m?null:"rowgroup"},u)))}));a.a=Object(i.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(d)},1287:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(98),l=t(15),i=t(25),o=t(1223),s=t(276),d=t(1242),m=t(365),u=t(1260),E=t(1261),p=t(48),b=t(114),f=t.n(b);var g=t(152),v=t(16),h=[{title:"LABEL.PATIENT_CODE"},{title:"LABEL.REGISTRATION_NO"},{title:"LABEL.PATIENT_NAME"},{title:"LABEL.DATE_OF_VISIT"},{title:"LABEL.POLI"},{title:"LABEL.STATUS"},{title:"LABEL.TABLE_HEADER.ACTION"}];var N=Object(s.c)(Object(i.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!0),r=Object(l.a)(t,2),i=r[0],s=r[1],b=Object(n.useState)([]),N=Object(l.a)(b,2),O=N[0],y=N[1],j=Object(p.i)();return Object(n.useLayoutEffect)((function(){j.setBreadcrumbs([{pathname:"/registry/dashboard",title:a.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/registry/screening/list",title:a.formatMessage({id:"LABEL.SCREENING_LIST"})}]),j.setTitle(a.formatMessage({id:"LABEL.SCREENING_LIST"}))}),[]),Object(n.useEffect)((function(){s(!0),f.a.get("/api/v1/reservasitoday").then((function(e){s(!1),y(e.data.data)})).catch((function(e){s(!1),g.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(m.b,null,c.a.createElement(m.c,null,c.a.createElement(d.a,{dataHeader:h,loading:i,hecto:10},O.map((function(e,a){return c.a.createElement(u.a,{key:a.toString()},c.a.createElement(E.a,null,e.kode_pasien),c.a.createElement(E.a,null,e.code_reg),c.a.createElement(E.a,null,e.nama),c.a.createElement(E.a,null,e.tgl_book),c.a.createElement(E.a,null,e.poli),c.a.createElement(E.a,null,"1"===e.status?c.a.createElement(o.a,{id:"LABEL.BOOKING"}):"2"===e.status?c.a.createElement(o.a,{id:"LABEL.CANCELED"}):c.a.createElement(o.a,{id:"LABEL.CHECK_IN"})),c.a.createElement(E.a,null,"1"===e.status&&c.a.createElement(v.b,{className:"btn btn-warning",to:"/registry/screening/patient/".concat(e.pasien_id,"/").concat(e.poli_id,"/").concat(e.id)},c.a.createElement(o.a,{id:"LABEL.SCREENING"}))))}))))))}))),O=t(224);var y=Object(s.c)(Object(i.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!0),r=Object(l.a)(t,2),s=(r[0],r[1],Object(n.useState)([])),d=Object(l.a)(s,2),u=(d[0],d[1],Object(p.i)()),E=Object(n.useState)({}),b=Object(l.a)(E,2),v=b[0],h=b[1],N=Object(n.useState)(!1),y=Object(l.a)(N,2),j=y[0],A=y[1],L=Object(n.useState)([]),x=Object(l.a)(L,2),T=x[0],S=x[1],C=Object(n.useState)(!1),_=Object(l.a)(C,2),B=_[0],w=_[1],k=e.match.params.patient_id,I=e.match.params.poli,R=e.match.params.reservasi_id,M=Object(i.e)((function(e){return e.clientMqtt.client}),i.c);Object(n.useLayoutEffect)((function(){u.setBreadcrumbs([{pathname:"/registry/dashboard",title:a.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/registry/screening/list",title:a.formatMessage({id:"LABEL.SCREENING_LIST"})},{pathname:"/registry/screening/patient/".concat(k,"/").concat(I,"/").concat(R),title:a.formatMessage({id:"LABEL.PATIENT_SCREENING"})}]),u.setTitle(a.formatMessage({id:"LABEL.PATIENT_SCREENING"}))}),[]);var D=function(){if(M){var e=O.b.topic,a=O.b.qos,t=O.b.payload;M.publish(e,t,{qos:a},(function(e){e&&console.log("Publish error: ",e)}))}};return Object(n.useEffect)((function(){var e;w(!1),A(!0),S([]),(e=I,f.a.get("/api/v1/screeningform/".concat(e))).then((function(e){A(!1),S(e.data.data)})).catch((function(e){w(!0),A(!1),g.a.showSnackbar(e.response.data.messages)}))}),[]),Object(n.useEffect)((function(){var e;(e=R,f.a.get("/api/v1/reservation/".concat(e))).then((function(e){h(e.data.data)})).catch((function(e){g.a.showSnackbar(e.response.data.messages)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(m.b,null,c.a.createElement(m.d,null,c.a.createElement("div",{className:"card-title"},c.a.createElement(m.e,null,c.a.createElement(o.a,{id:"LABEL.SCREENING"})),j&&c.a.createElement("span",{className:"text-danger"},c.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}),c.a.createElement(o.a,{id:"LABEL.WAITING"}))),c.a.createElement(m.f,null,c.a.createElement("button",{type:"button",className:"btn btn-danger mx-1",onClick:function(){e.history.goBack()}},c.a.createElement(o.a,{id:"LABEL.CANCEL"})),c.a.createElement("button",{type:"button",className:"btn btn-primary mx-1 ".concat(B?"d-none":""),disabled:j,onClick:function(t){t.preventDefault(),A(!0);for(var n=[],c=0;c<T.length;c++){var r=document.getElementById((T[c].nama+T[c].id).match(/[a-zA-Z0-9]+/g).join("")).value,l={medkind_id:T[c].medkind_id,medform_id:T[c].medform_id,val_desc:r};0!=r.trim().length&&n.push(l)}(function(e){return f.a.post("/api/v1/submitscreen",e)})({reservasi_id:R,screenitems:n}).then((function(t){A(!1),S([]),g.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3),D(),e.history.goBack()})).catch((function(e){A(!1),g.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}},c.a.createElement(o.a,{id:"LABEL.SAVE"}),c.a.createElement("i",{className:"fas fa-save ml-2"})))),c.a.createElement(m.c,null,c.a.createElement("form",{autoComplete:"off"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-sm-4"},c.a.createElement(o.a,{id:"LABEL.PATIENT_CODE"})),c.a.createElement("div",{className:"col-sm-8"},c.a.createElement("input",{type:"text",className:"form-control",value:v.kode_pasien,onChange:function(){},disabled:!0}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-sm-4"},c.a.createElement(o.a,{id:"LABEL.PATIENT_NAME"})),c.a.createElement("div",{className:"col-sm-8"},c.a.createElement("input",{type:"text",className:"form-control",value:v.nama,onChange:function(){},disabled:!0})))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-sm-4"},c.a.createElement(o.a,{id:"LABEL.POLI"})),c.a.createElement("div",{className:"col-sm-8"},c.a.createElement("input",{type:"text",className:"form-control",value:v.poli,onChange:function(){},disabled:!0}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-sm-4"},c.a.createElement(o.a,{id:"LABEL.DATE_OF_VISIT"})),c.a.createElement("div",{className:"col-sm-8"},c.a.createElement("input",{type:"text",className:"form-control",value:v.tgl_book?window.moment(new Date(v.tgl_book)).format("DD MMM YYYY"):"",onChange:function(){},disabled:!0}))))),c.a.createElement("div",{className:"row mt-5"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h6",null,c.a.createElement(o.a,{id:"LABEL.PATIENT_SCREENING"})))),c.a.createElement("div",{className:"row"},T.map((function(e,a){return c.a.createElement("div",{key:a.toString(),className:"col-md-4"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,e.nama),1===e.datatype||2===e.datatype||3===e.datatype||4===e.datatype?c.a.createElement("input",{type:1===e.datatype?"text":2===e.datatype||3===e.datatype?"number":"date",className:"form-control",id:(e.nama+e.id).match(/[a-zA-Z0-9]+/g).join(""),disabled:j}):c.a.createElement("textarea",{rows:"3",id:(e.nama+e.id).match(/[a-zA-Z0-9]+/g).join(""),disabled:j})))})))))))})));a.default=Object(s.c)(Object(i.b)(null,null)((function(e){return c.a.createElement(r.d,null,c.a.createElement(r.a,{exact:!0,from:"/registry/screening",to:"/registry/screening/list"}),c.a.createElement(r.b,{path:"/registry/screening/list",component:function(e){return c.a.createElement(N,e)},exact:!0}),c.a.createElement(r.b,{path:"/registry/screening/patient/:patient_id/:poli/:reservasi_id",component:function(e){return c.a.createElement(y,e)},exact:!0}))})))}}]);
//# sourceMappingURL=4.d5005dd1.chunk.js.map