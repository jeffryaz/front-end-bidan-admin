(this.webpackJsonpaplication=this.webpackJsonpaplication||[]).push([[5],{1250:function(e,a,t){},1252:function(e,a,t){"use strict";var n=t(11),r=t(0),l=t.n(r),c=t(14),s=t(1230),i=t(278),o=t(1280),d=t(1192),m=t(1281),u=t(1282),E=t(1283),p=t(1284),f=t(1285);t(1250);a.a=Object(i.c)(Object(c.b)(null,null)((function(e){var a=e.intl,t=e.dataHeader,r=void 0===t?[]:t,c=e.loading,i=void 0!==c&&c,b=e.err,g=void 0!==b&&b,v=e.children,h=e.hecto,N=void 0===h?1:h,L=e.handleFilter,A=e.dataSecond,O=void 0===A?[]:A,y=l.a.useState(r.filter((function(e){return!0===e.filter}))),_=Object(n.a)(y,1)[0];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"LABEL.SEARCH",className:"col-sm-3 col-form-label"},l.a.createElement(s.a,{id:"LABEL.SEARCH"}),":"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",id:"LABEL.SEARCH",placeholder:a.formatMessage({id:"LABEL.SEARCH"}),onChange:function(e){for(var a=[],t=0;t<O.length;t++)for(var n=0;n<_.length;n++){if(O[t][_[n].name].toString().toLowerCase().includes(e.target.value.toLowerCase())){a.push(O[t]);break}}"function"===typeof L&&L(a)}}))))),l.a.createElement(o.a,{component:d.a},l.a.createElement(m.a,{className:"hecto-"+N},l.a.createElement(u.a,null,l.a.createElement(E.a,null,r.map((function(e,a){return l.a.createElement(p.a,{className:"bg-primary text-uppercase ".concat((null===e||void 0===e?void 0:e.td)?null===e||void 0===e?void 0:e.td:""),key:a.toString()},l.a.createElement("span",null,l.a.createElement(s.a,{id:e.title})))})))),l.a.createElement(f.a,null,v)),l.a.createElement("div",{className:"table-loading-data"},l.a.createElement("div",{className:"text-center font-weight-bold py-5"},l.a.createElement("div",{className:"table-loading-data-potition"},i&&l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-spinner fa-pulse text-dark mr-1"}),l.a.createElement(s.a,{id:"LABEL.TABLE.WAITING_DATA"})),g&&l.a.createElement("span",{className:"text-danger"},l.a.createElement("i",{className:"far fa-frown text-danger mr-1"}),l.a.createElement(s.a,{id:"LABEL.ERROR_REQUEST"}))))))))})))},1258:function(e,a,t){"use strict";var n=t(0),r=n.createContext();a.a=r},1262:function(e,a,t){"use strict";var n=t(0),r=n.createContext();a.a=r},1280:function(e,a,t){"use strict";var n=t(1),r=t(12),l=t(0),c=(t(7),t(10)),s=t(22),i=l.forwardRef((function(e,a){var t=e.classes,s=e.className,i=e.component,o=void 0===i?"div":i,d=Object(r.a)(e,["classes","className","component"]);return l.createElement(o,Object(n.a)({ref:a,className:Object(c.a)(t.root,s)},d))}));a.a=Object(s.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(i)},1281:function(e,a,t){"use strict";var n=t(12),r=t(1),l=t(0),c=(t(7),t(10)),s=t(22),i=t(1262),o=l.forwardRef((function(e,a){var t=e.classes,s=e.className,o=e.component,d=void 0===o?"table":o,m=e.padding,u=void 0===m?"default":m,E=e.size,p=void 0===E?"medium":E,f=e.stickyHeader,b=void 0!==f&&f,g=Object(n.a)(e,["classes","className","component","padding","size","stickyHeader"]),v=l.useMemo((function(){return{padding:u,size:p,stickyHeader:b}}),[u,p,b]);return l.createElement(i.a.Provider,{value:v},l.createElement(d,Object(r.a)({role:"table"===d?null:"table",ref:a,className:Object(c.a)(t.root,s,b&&t.stickyHeader)},g)))}));a.a=Object(s.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(r.a)(Object(r.a)({},e.typography.body2),{},{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(o)},1282:function(e,a,t){"use strict";var n=t(1),r=t(12),l=t(0),c=(t(7),t(10)),s=t(22),i=t(1258),o={variant:"head"},d=l.forwardRef((function(e,a){var t=e.classes,s=e.className,d=e.component,m=void 0===d?"thead":d,u=Object(r.a)(e,["classes","className","component"]);return l.createElement(i.a.Provider,{value:o},l.createElement(m,Object(n.a)({className:Object(c.a)(t.root,s),ref:a,role:"thead"===m?null:"rowgroup"},u)))}));a.a=Object(s.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(d)},1283:function(e,a,t){"use strict";var n=t(1),r=t(12),l=t(0),c=(t(7),t(10)),s=t(22),i=t(1258),o=t(81),d=l.forwardRef((function(e,a){var t=e.classes,s=e.className,o=e.component,d=void 0===o?"tr":o,m=e.hover,u=void 0!==m&&m,E=e.selected,p=void 0!==E&&E,f=Object(r.a)(e,["classes","className","component","hover","selected"]),b=l.useContext(i.a);return l.createElement(d,Object(n.a)({ref:a,className:Object(c.a)(t.root,s,b&&{head:t.head,footer:t.footer}[b.variant],u&&t.hover,p&&t.selected),role:"tr"===d?null:"row"},f))}));a.a=Object(s.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(o.c)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(d)},1284:function(e,a,t){"use strict";var n=t(12),r=t(1),l=t(0),c=(t(7),t(10)),s=t(22),i=t(39),o=t(81),d=t(1262),m=t(1258),u=l.forwardRef((function(e,a){var t,s,o=e.align,u=void 0===o?"inherit":o,E=e.classes,p=e.className,f=e.component,b=e.padding,g=e.scope,v=e.size,h=e.sortDirection,N=e.variant,L=Object(n.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),A=l.useContext(d.a),O=l.useContext(m.a),y=O&&"head"===O.variant;f?(s=f,t=y?"columnheader":"cell"):s=y?"th":"td";var _=g;!_&&y&&(_="col");var j=b||(A&&A.padding?A.padding:"default"),S=v||(A&&A.size?A.size:"medium"),I=N||O&&O.variant,x=null;return h&&(x="asc"===h?"ascending":"descending"),l.createElement(s,Object(r.a)({ref:a,className:Object(c.a)(E.root,E[I],p,"inherit"!==u&&E["align".concat(Object(i.a)(u))],"default"!==j&&E["padding".concat(Object(i.a)(j))],"medium"!==S&&E["size".concat(Object(i.a)(S))],"head"===I&&A&&A.stickyHeader&&E.stickyHeader),"aria-sort":x,role:t,scope:_},L))}));a.a=Object(s.a)((function(e){return{root:Object(r.a)(Object(r.a)({},e.typography.body2),{},{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(o.e)(Object(o.c)(e.palette.divider,1),.88):Object(o.a)(Object(o.c)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0px 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(u)},1285:function(e,a,t){"use strict";var n=t(1),r=t(12),l=t(0),c=(t(7),t(10)),s=t(22),i=t(1258),o={variant:"body"},d=l.forwardRef((function(e,a){var t=e.classes,s=e.className,d=e.component,m=void 0===d?"tbody":d,u=Object(r.a)(e,["classes","className","component"]);return l.createElement(i.a.Provider,{value:o},l.createElement(m,Object(n.a)({className:Object(c.a)(t.root,s),ref:a,role:"tbody"===m?null:"rowgroup"},u)))}));a.a=Object(s.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(d)},1302:function(e,a,t){"use strict";var n=t(92),r=t.n(n),l=t(1251),c=t(11),s=t(0),i=t.n(s),o=t(14),d=t(1230),m=t(278),u=t(1252),E=t(371),p=t(1246),f=t(1223),b=t(1224),g=t(1226),v=t(1283),h=t(1284),N=t(31),L=t(1303),A=t(46),O=t(100),y=t(15),_=t(104),j=t(60),S=[{title:"LABEL.PATIENT_CODE",name:"kode_pasien",filter:!0},{title:"LABEL.PATIENT_NAME",name:"nama",filter:!0},{title:"LABEL.DATE_OF_VISIT",name:"tgl_book",filter:!0},{title:"LABEL.POLI",name:"poli",filter:!0},{title:"LABEL.STATUS",name:"statusName",filter:!0},{title:"LABEL.TABLE_HEADER.ACTION",name:"action",filter:!1}];a.a=Object(m.c)(Object(o.b)(null,null)((function(e){var a=e.intl,t=Object(s.useState)(!0),n=Object(c.a)(t,2),o=n[0],m=n[1],I=Object(s.useState)([]),x=Object(c.a)(I,2),k=x[0],T=x[1],C=Object(s.useState)([]),B=Object(c.a)(C,2),w=B[0],R=B[1],D=Object(s.useState)({}),M=Object(c.a)(D,2),P=M[0],F=M[1],H=Object(s.useState)({}),U=Object(c.a)(H,2),q=U[0],Q=U[1],V=Object(s.useState)(!1),G=Object(c.a)(V,2),z=G[0],W=G[1],Y=Object(s.useState)(!1),$=Object(c.a)(Y,2),J=$[0],K=$[1],X=Object(s.useState)(!1),Z=Object(c.a)(X,2),ee=Z[0],ae=Z[1],te=Object(s.useState)([]),ne=Object(c.a)(te,2),re=ne[0],le=ne[1],ce=Object(s.useState)({}),se=Object(c.a)(ce,2),ie=se[0],oe=se[1],de=Object(N.i)(),me=Object(O.h)();Object(s.useLayoutEffect)((function(){de.setBreadcrumbs([{pathname:"/".concat(me.pathname.includes("registry")?"registry":"pharmacist","/dashboard"),title:a.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/".concat(me.pathname.includes("registry")?"registry":"pharmacist","/screening/list"),title:a.formatMessage({id:"LABEL.SCREENING_LIST"})}]),de.setTitle(a.formatMessage({id:"LABEL.SCREENING_LIST"}))}),[]);var ue=j.b().shape({hb:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),hbsag:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),hiv:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),sifilis:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),asam_urat:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),kolesterol:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),gol_dar:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),pp_test:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),protein_urine:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),ph:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),glukosa:j.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"}))}),Ee=Object(_.b)({initialValues:q,validationSchema:ue,onSubmit:function(){var e=Object(l.a)(r.a.mark((function e(t,n){var l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setStatus,n.setSubmitting,(l=t).medical_id=P.medical_id,W(!0),P.lab_id?Object(L.h)(P.medical_id,l).then((function(e){pe(),W(!1),Q({}),Ee.resetForm(),A.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success"),K(!1)})).catch((function(e){W(!1),A.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))})):Object(L.e)(l).then((function(e){pe(),W(!1),Q({}),Ee.resetForm(),A.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success"),K(!1)})).catch((function(e){W(!1),A.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}),pe=function(){m(!0),Object(L.d)().then((function(e){m(!1);var t=e.data.data;t.forEach((function(e){e.statusName="1"===e.status?a.formatMessage({id:"LABEL.BOOKING"}):"2"===e.status?a.formatMessage({id:"LABEL.CANCELED"}):"3"===e.status?a.formatMessage({id:"LABEL.CHECKIN_SCREENING"}):"4"===e.status?a.formatMessage({id:"LABEL.POLI_PROCESS"}):"5"===e.status?a.formatMessage({id:"LABEL.PHARMACIST"}):"6"===e.status?a.formatMessage({id:"LABEL.PAYMENT"}):a.formatMessage({id:"LABEL.FINISH"})})),T(t),R(t)})).catch((function(e){m(!1),A.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))};Object(s.useEffect)(pe,[]);var fe=function(){P.lab_id&&Object(L.b)(P.medical_id).then((function(e){var a={hb:e.data.data.hb,hbsag:e.data.data.hbsag,hiv:e.data.data.hiv,sifilis:e.data.data.sifilis,asam_urat:e.data.data.asam_urat,kolesterol:e.data.data.kolesterol,gol_dar:e.data.data.gol_dar,pp_test:e.data.data.pp_test,protein_urine:e.data.data.protein_urine,ph:e.data.data.ph,glukosa:e.data.data.glukosa};Ee.setValues(a)})).catch((function(e){var a;A.a.showSnackbar(null===(a=e.response)||void 0===a?void 0:a.data.messages)}))};return Object(s.useEffect)(fe,[P]),i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{open:ee,maxWidth:"xs",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(f.a,null,i.a.createElement(d.a,{id:"LABEL.TYPE_SCREENING"})),i.a.createElement(b.a,null,re.map((function(e,a){return i.a.createElement(y.b,{key:a.toString(),className:"btn btn-primary  w-100 my-2",to:"/".concat(me.pathname.includes("registry")?"registry":"pharmacist","/screening/patient/").concat(ie.pasien_id,"/").concat(e.id,"/").concat(ie.id)},e.kind_nm)}))),i.a.createElement(g.a,null,i.a.createElement("button",{type:"button",onClick:function(){ae(!1)},className:"btn btn-danger"},i.a.createElement(d.a,{id:"LABEL.CANCEL"})))),i.a.createElement(p.a,{open:J,maxWidth:"lg",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(f.a,null,i.a.createElement(d.a,{id:"LABEL.LAB_RESULT"})),i.a.createElement("form",{autoComplete:"off",onSubmit:Ee.handleSubmit},i.a.createElement(b.a,null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{className:"col-sm-3 col-form-label"},i.a.createElement(d.a,{id:"LABEL.PATIENT_CODE"})),i.a.createElement("div",{className:"col-sm-9"},i.a.createElement("input",{type:"text",className:"form-control",value:null===P||void 0===P?void 0:P.kode_pasien,onChange:function(){},disabled:!0}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{className:"col-sm-3 col-form-label"},i.a.createElement(d.a,{id:"LABEL.PATIENT_NAME"})),i.a.createElement("div",{className:"col-sm-9"},i.a.createElement("input",{type:"text",className:"form-control",value:null===P||void 0===P?void 0:P.nama,onChange:function(){},disabled:!0})))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{className:"col-sm-3 col-form-label"},i.a.createElement(d.a,{id:"LABEL.POLI"})),i.a.createElement("div",{className:"col-sm-9"},i.a.createElement("input",{type:"text",className:"form-control",value:null===P||void 0===P?void 0:P.poli,onChange:function(){},disabled:!0}))))),i.a.createElement("hr",null),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Hemoglobin (HB)"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("hb"))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Hepatitis B Surface Antigen (HBsAg)"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("hbsag"))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Human Immunodeficiency Virus (HIV)"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("hiv"))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Raja Singa (Sifilis)"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("sifilis"))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Asam Urat"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("asam_urat"))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Kolestrol"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("kolesterol"))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Gelongan Darah"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("gol_dar"))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Plano Test (PP Test)"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("pp_test"))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Protein Urine"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("protein_urine"))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"PH"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("ph"))))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Gula Darah (Glucose)"),i.a.createElement("input",Object.assign({type:"text",className:"form-control",required:!0,disabled:z},Ee.getFieldProps("glukosa"))))))),i.a.createElement(g.a,null,i.a.createElement("button",{type:"button",onClick:function(){K(!1),Ee.resetForm()},className:"btn btn-danger",disabled:z},i.a.createElement(d.a,{id:"LABEL.CANCEL"})),i.a.createElement("button",{className:"btn btn-primary",type:"submit"},z?i.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}):i.a.createElement("i",{className:"fas fa-save ml-2"}),z?i.a.createElement(d.a,{id:"LABEL.WAITING"}):i.a.createElement(d.a,{id:"LABEL.SAVE"}))))),i.a.createElement(E.b,null,i.a.createElement(E.c,null,i.a.createElement(u.a,{dataHeader:S,dataSecond:w,handleFilter:function(e){T(e)},loading:o,hecto:10},k.map((function(e,t){return i.a.createElement(v.a,{key:t.toString()},i.a.createElement(h.a,null,e.kode_pasien),i.a.createElement(h.a,null,e.nama),i.a.createElement(h.a,null,e.tgl_book),i.a.createElement(h.a,null,e.poli),i.a.createElement(h.a,{className:"text-uppercase"},e.statusName),i.a.createElement(h.a,null,"1"===e.status&&i.a.createElement("button",{className:"btn btn-warning",onClick:Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.poli_id,Object(L.g)(n).then((function(e){le(e.data.data),ae(!0)})).catch((function(e){A.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))})),oe(e);case 2:case"end":return t.stop()}var n}),t)})))},i.a.createElement(d.a,{id:"LABEL.SCREENING"})),("4"===e.status||"5"===e.status||"6"===e.status)&&i.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){F(e),K(!0),e.lab_id&&fe()}},e.lab_id?i.a.createElement("i",{className:"fas fa-edit pr-2"}):i.a.createElement("i",{className:"fas fa-pen pr-2"}),i.a.createElement(d.a,{id:"LABEL.LAB_RESULT"}))))}))))))})))},1303:function(e,a,t){"use strict";t.d(a,"f",(function(){return l})),t.d(a,"d",(function(){return c})),t.d(a,"c",(function(){return s})),t.d(a,"b",(function(){return i})),t.d(a,"h",(function(){return o})),t.d(a,"e",(function(){return d})),t.d(a,"g",(function(){return m})),t.d(a,"a",(function(){return u}));var n=t(28),r=t.n(n);function l(e){return r.a.post("/api/v1/submitscreen",e)}function c(){return r.a.get("/api/v1/reservasitoday")}function s(e){return r.a.get("/api/v1/reservation/".concat(e))}function i(e){return r.a.get("/api/v1/labs/".concat(e))}function o(e,a){return r.a.put("/api/v1/labs/".concat(e),a)}function d(e){return r.a.post("/api/v1/labs",e)}function m(e){return r.a.get("/api/v1/formkind/".concat(e))}function u(e){return r.a.get("/api/v1/formformat/get/".concat(e))}},1304:function(e,a,t){"use strict";var n=t(92),r=t.n(n),l=t(1251),c=t(11),s=t(0),i=t.n(s),o=t(14),d=t(1230),m=t(278),u=t(371),E=t(31),p=t(1303),f=t(46),b=t(35),g=t(313),v=t(1374),h=t(1342),N=t(1343),L=t(1344),A=t(1234),O=t(1266),y=t.n(O),_=Object(A.a)((function(e){return{heading:{fontSize:e.typography.pxToRem(15)},heading_new:{fontSize:e.typography.pxToRem(15),flexBasis:"96.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15)},details:{alignItems:"center",display:"block"},column:{flexBasis:"33.33%"}}}));function j(e){var a,t=e.item,n=e.classes,r=e.index,l=e.onChangesValue;return a=i.a.createElement("div",{className:"w-100"},i.a.createElement("div",{className:"row"},t.subtitle.map((function(e,a){return i.a.createElement("div",{className:"col-12",key:a.toString()},i.a.createElement(j,{item:e,index:r&&"string"===typeof r?r+","+a.toString():null,classes:n,onChangesValue:l}))})),t.input.map((function(e,a){var n,c;return i.a.createElement("div",{className:"col-12",key:a.toString()},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,null===(n=e.medkind)||void 0===n?void 0:n.nama),i.a.createElement("div",{className:"input-group mb-3"},1===e.medkind.datatype||2===e.medkind.datatype||3===e.medkind.datatype||4===e.medkind.datatype?i.a.createElement("input",{id:"input-".concat(t.id,"-").concat(e.id),type:1===e.medkind.datatype?"text":2===e.medkind.datatype||3===e.medkind.datatype?"number":"date",className:"form-control ".concat(e.val_desc&&0!==e.val_desc.trim().length?"border-valid-input":""),disabled:2===e.dokter_only,value:e.val_desc||"",onChange:function(e){l(r,a,e)}}):i.a.createElement("textarea",{rows:"3",id:"input-".concat(t.id,"-").concat(e.id),className:"form-control ".concat(e.val_desc&&0!==e.val_desc.trim().length?"border-valid-input":""),disabled:2===e.dokter_only,value:e.val_desc||"",onChange:function(e){l(r,a,e)}}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("span",{className:"input-group-text"},null===(c=e.medkind)||void 0===c?void 0:c.unit)))))})))),i.a.createElement(v.a,{defaultExpanded:!1,className:"my-5 rounded-top w-100"},i.a.createElement(h.a,{expandIcon:i.a.createElement(y.a,null)},i.a.createElement("span",{className:n.heading_new,id:r},t.title)),i.a.createElement(N.a,{className:n.details},a),i.a.createElement(L.a,null))}a.a=Object(m.c)(Object(o.b)(null,null)((function(e){var a=e.intl,t=Object(E.i)(),n=Object(s.useState)({}),m=Object(c.a)(n,2),v=m[0],h=m[1],N=Object(s.useState)(!1),L=Object(c.a)(N,2),A=L[0],O=L[1],y=Object(s.useState)(!1),S=Object(c.a)(y,2),I=S[0],x=(S[1],e.match.params.patient_id),k=e.match.params.poli,T=e.match.params.reservasi_id,C=Object(o.e)((function(e){return e.clientMqtt.client}),o.c),B=_(),w=i.a.useState([]),R=Object(c.a)(w,2),D=R[0],M=R[1],P=[];Object(s.useLayoutEffect)((function(){t.setBreadcrumbs([{pathname:"/registry/dashboard",title:a.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/registry/screening/list",title:a.formatMessage({id:"LABEL.SCREENING_LIST"})},{pathname:"/registry/screening/patient/".concat(x,"/").concat(k,"/").concat(T),title:a.formatMessage({id:"LABEL.PATIENT_SCREENING"})}]),t.setTitle(a.formatMessage({id:"LABEL.PATIENT_SCREENING"}))}),[]);var F=function(){var e=Object(l.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(l.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.input.length>0?a.input.forEach((function(e,n,r){var l=e.val_desc?e.val_desc:"",c={medkind_id:e.medkind_id,medform_id:e.id,formkind_id:a.formkind_id,val_desc:l};0!=l.trim().length&&P.push(c),n===r.length-1&&t()})):t();case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());case 2:return e.next=4,new Promise(function(){var e=Object(l.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.subtitle.length>0?a.subtitle.forEach(function(){var e=Object(l.a)(r.a.mark((function e(a,n,l){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(a);case 2:n===l.length-1&&t();case 3:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}()):t();case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),H=function(){if(C){var e=b.e.topic,a=b.e.qos,t=b.e.payload,n=b.a.topicCallDoctor,r=b.a.qosCallDoctor,l=b.a.payloadCallDoctor;C.publish(e,t,{qos:a},(function(e){e&&console.log("Publish error: ",e)})),C.publish(n,l,{qosCallDoctor:r},(function(e){e&&console.log("Publish error: ",e)}))}};Object(s.useEffect)((function(){Object(p.a)(k).then((function(e){M(e.data.data)})).catch((function(e){var a;f.a.showSnackbar(null===(a=e.response)||void 0===a?void 0:a.data.messages)}))}),[]),Object(s.useEffect)((function(){Object(p.c)(T).then((function(e){h(e.data.data)})).catch((function(e){var a;f.a.showSnackbar(null===(a=e.response)||void 0===a?void 0:a.data.messages)}))}),[]);var U=function(e,a,t){var n=e.split(","),r=Object(g.cloneDeep)(D);1===n.length?(r[n[0]].input[a].val_desc=t.target.value,M(r)):2===n.length?(r[n[0]].subtitle[n[1]].input[a].val_desc=t.target.value,M(r)):3===n.length?(r[n[0]].subtitle[n[1]].subtitle[n[2]].input[a].val_desc=t.target.value,M(r)):4===n.length?(r[n[0]].subtitle[n[1]].subtitle[n[2]].subtitle[n[3]].input[a].val_desc=t.target.value,M(r)):5===n.length&&(r[n[0]].subtitle[n[1]].subtitle[n[2]].subtitle[n[3]].subtitle[n[4]].input[a].val_desc=t.target.value,M(r))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.b,null,i.a.createElement(u.d,null,i.a.createElement("div",{className:"card-title"},i.a.createElement(u.e,null,i.a.createElement(d.a,{id:"LABEL.SCREENING"}))),i.a.createElement(u.f,null,A&&i.a.createElement("span",{className:"text-danger"},i.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}),i.a.createElement(d.a,{id:"LABEL.WAITING"})),i.a.createElement("button",{type:"button",className:"btn btn-danger mx-1",onClick:function(){e.history.goBack()},disabled:A},i.a.createElement(d.a,{id:"LABEL.CANCEL"})),i.a.createElement("button",{type:"button",className:"btn btn-primary mx-1 ".concat(I?"d-none":""),disabled:A,onClick:function(t){t.preventDefault(),O(!0),Object(g.cloneDeep)(D).forEach(function(){var e=Object(l.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),setTimeout((function(){var t={reservasi_id:T,screenitems:P,formkind_id:k};Object(p.f)(t).then((function(t){O(!1),f.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3),H(),e.history.goBack()})).catch((function(e){O(!1),f.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),1500)}},i.a.createElement(d.a,{id:"LABEL.SAVE"}),i.a.createElement("i",{className:"fas fa-save ml-2"})))),i.a.createElement(u.c,null,i.a.createElement("form",{autoComplete:"off"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{className:"col-sm-4"},i.a.createElement(d.a,{id:"LABEL.PATIENT_CODE"})),i.a.createElement("div",{className:"col-sm-8"},i.a.createElement("input",{type:"text",className:"form-control",value:v.kode_pasien,onChange:function(){},disabled:!0}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{className:"col-sm-4"},i.a.createElement(d.a,{id:"LABEL.PATIENT_NAME"})),i.a.createElement("div",{className:"col-sm-8"},i.a.createElement("input",{type:"text",className:"form-control",value:v.nama,onChange:function(){},disabled:!0})))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{className:"col-sm-4"},i.a.createElement(d.a,{id:"LABEL.POLI"})),i.a.createElement("div",{className:"col-sm-8"},i.a.createElement("input",{type:"text",className:"form-control",value:v.poli,onChange:function(){},disabled:!0}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{className:"col-sm-4"},i.a.createElement(d.a,{id:"LABEL.DATE_OF_VISIT"})),i.a.createElement("div",{className:"col-sm-8"},i.a.createElement("input",{type:"text",className:"form-control",value:v.tgl_book?window.moment(new Date(v.tgl_book)).format("DD MMM YYYY"):"",onChange:function(){},disabled:!0}))))),i.a.createElement("div",{className:"row mt-5"},i.a.createElement("div",{className:"col-12"},i.a.createElement("h6",null,i.a.createElement(d.a,{id:"LABEL.PATIENT_SCREENING"})))),D.map((function(e,a){return i.a.createElement(j,{key:a.toString(),index:a.toString(),item:e,classes:B,onChangesValue:U})}))))))})))}}]);
//# sourceMappingURL=5.8119efeb.chunk.js.map