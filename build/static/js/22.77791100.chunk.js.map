{"version":3,"sources":["app/components/tableCustomV1/tableOnly.js","app/modules/HandlingTeller/_redux/CrudHandlingTeller.js","service/print/ReceiptContent.js","app/modules/HandlingTeller/DetailTeller.js","app/modules/HandlingTeller/NeedClosingPage.js","app/modules/HandlingTeller/RootHandlingTeller.js"],"names":["injectIntl","connect","props","intl","dataHeader","loading","err","children","hecto","handleFilter","dataSecond","React","useState","filter","item","dataFilter","Fragment","className","htmlFor","id","type","placeholder","formatMessage","onChange","e","data","i","length","j","name","toString","toLowerCase","includes","target","value","push","component","Paper","map","index","key","title","getMedicalRecord","medical_id","axios","get","getMedicineById","savePayment","post","listDailyInCome","params","handOver","listNeedClosing","listTransactionPagination","ReceiptContent","countSubTotal","count","harga","qty","console","log","src","alt","style","width","textAlign","margin","petugas","nama","window","moment","Date","format","pasien","code_reg","colSpan","borderStyle","borderRight","borderLeft","borderTop","fontSize","items","rupiah","composite_item","idx","handlingFee","payment","marginTop","auth","history","useHistory","setLoading","loadingSubmit","setLoadingSubmit","setData","suhbeader","useSubheader","dataMedicine","setDataMedicine","resep_id","match","setHandlingFee","dialogProcess","setDialogProcess","setPayment","user","useSelector","clientMqtt","client","shallowEqual","content","setContent","dataMedicinePatient","a","waiting","Promise","resolve","reject","result","MODAL","showSnackbar","useLayoutEffect","setBreadcrumbs","pathname","setTitle","useEffect","then","form","fee","callApiGetMedicine","resep","catch","handleContentPrint","html","ReactDOMServer","renderToStaticMarkup","mywindow","open","document","write","created_at","poli","close","focus","setTimeout","print","Dialog","maxWidth","fullWidth","aria-labelledby","aria-describedby","DialogTitle","DialogContent","onClick","replace","displayType","allowEmptyFormatting","allowLeadingZeros","allowNegative","onValueChange","Object","assign","findIndex","floatValue","backgroundColor","disabled","thousandSeparator","prefix","select","data_","pay_amt","callApiSubmitMedicalRecord","headerTable","setDataSecond","grandTotal","setGrandTotal","callApiListNeedClosing","grand_total","forEach","element","Number","response","messages","message","TableRow","TableCell","kode_trans","total","exact","from","to","path"],"mappings":"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","file":"static/js/22.77791100.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport {\r\n  TableContainer,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport \"./styles.scss\";\r\n\r\nconst TableOnly = (props) => {\r\n  const {\r\n    intl,\r\n    dataHeader = [],\r\n    loading = false,\r\n    err = false,\r\n    children,\r\n    hecto = 1,\r\n    handleFilter,\r\n    dataSecond = [],\r\n  } = props;\r\n  const [dataFilter] = React.useState(\r\n    dataHeader.filter((item) => item.filter === true)\r\n  );\r\n\r\n  const handleFilters = (e) => {\r\n    var data = [];\r\n    for (let i = 0; i < dataSecond.length; i++) {\r\n      for (let j = 0; j < dataFilter.length; j++) {\r\n        var item = dataSecond[i][dataFilter[j].name].toString().toLowerCase();\r\n        if (item.includes(e.target.value.toLowerCase())) {\r\n          data.push(dataSecond[i]);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (typeof handleFilter === \"function\") handleFilter(data);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        <div className=\"row\">\r\n          <div className=\"col-4\">\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"LABEL.SEARCH\" className=\"col-sm-3 col-form-label\">\r\n                <FormattedMessage id=\"LABEL.SEARCH\" />:\r\n              </label>\r\n              <div className=\"col-sm-9\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"LABEL.SEARCH\"\r\n                  placeholder={intl.formatMessage({\r\n                    id: \"LABEL.SEARCH\",\r\n                  })}\r\n                  onChange={handleFilters}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <TableContainer component={Paper}>\r\n          <Table className={\"hecto-\" + hecto}>\r\n            <TableHead>\r\n              <TableRow>\r\n                {dataHeader.map((item, index) => {\r\n                  return (\r\n                    <TableCell\r\n                      className=\"bg-primary text-uppercase\"\r\n                      key={index.toString()}\r\n                    >\r\n                      <span>\r\n                        <FormattedMessage id={item.title} />\r\n                      </span>\r\n                    </TableCell>\r\n                  );\r\n                })}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>{children}</TableBody>\r\n          </Table>\r\n\r\n          <div className=\"table-loading-data\">\r\n            <div className=\"text-center font-weight-bold py-5\">\r\n              <div className=\"table-loading-data-potition\">\r\n                {loading && (\r\n                  <span>\r\n                    <i className=\"fas fa-spinner fa-pulse text-dark mr-1\"></i>\r\n                    <FormattedMessage id=\"LABEL.TABLE.WAITING_DATA\" />\r\n                  </span>\r\n                )}\r\n                {err && (\r\n                  <span className=\"text-danger\">\r\n                    <i className=\"far fa-frown text-danger mr-1\"></i>\r\n                    <FormattedMessage id=\"LABEL.ERROR_REQUEST\" />\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </TableContainer>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default injectIntl(connect(null, null)(TableOnly));\r\n","import axios from \"axios\";\r\n\r\nexport function listPatientPagination(params) {\r\n  return axios.get(`/api/v1/pasien${params ? \"?\" + params : \"\"}`);\r\n}\r\nexport function getDataPatient(id) {\r\n  return axios.get(`/api/v1/pasien/${id}`);\r\n}\r\nexport function getMedicalRecord(medical_id) {\r\n  return axios.get(`/api/v1/medical/${medical_id}`);\r\n}\r\nexport function listMedicinePagination(params) {\r\n  return axios.get(`/api/v1/obat${params ? \"?\" + params : \"\"}`);\r\n}\r\nexport function getMedicineById(id) {\r\n  return axios.get(`/api/v1/obat/${id}`);\r\n}\r\nexport function cancelMedicalRecord(id) {\r\n  return axios.put(`/api/v1/medicalcancel/${id}`);\r\n}\r\nexport function saveMedicalRecord(medical_id, data) {\r\n  return axios.put(`/api/v1/medicalsave/${medical_id}`, data);\r\n}\r\nexport function submitMedicalRecord(medical_id, data) {\r\n  return axios.put(`/api/v1/medicalsubmit/${medical_id}`, data);\r\n}\r\nexport function listMedicalRecordDone() {\r\n  return axios.get(`/api/v1/medicaldone`);\r\n}\r\nexport function listAllReservationDoctor() {\r\n  return axios.get(`/api/v1/medicalallres`);\r\n}\r\nexport function saveApotek(data) {\r\n  return axios.post(`/api/v1/apotekcheck`, data);\r\n}\r\nexport function savePayment(data) {\r\n  return axios.post(`/api/v1/paymentsubmit`, data);\r\n}\r\nexport function listDailyInCome(params) {\r\n  return axios.get(`/api/v1/report/dailyincome${params ? \"?\" + params : \"\"}`);\r\n}\r\nexport function handOver() {\r\n  return axios.post(`/api/v1/handover`);\r\n}\r\nexport function listNeedClosing() {\r\n  return axios.get(`/api/v1/needclosinglist`);\r\n}\r\nexport function listTransactionPagination(params) {\r\n  return axios.get(`/api/v1/transaksi${params ? \"?\" + params : \"\"}`);\r\n}\r\n","import * as React from \"react\";\r\nimport { rupiah } from \"../../app/components/currency\";\r\nimport \"./ReceiptContent.scss\";\r\n\r\nexport function ReceiptContent(props) {\r\n  const { data = {} } = props;\r\n  const img =\r\n    \"data:image/png;base64,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\";\r\n\r\n  const countSubTotal = (data) => {\r\n    var count = 0;\r\n    data.map((item) => {\r\n      count += item.harga * item.qty;\r\n    });\r\n    return count;\r\n  };\r\n\r\n  console.log(\"data\", data);\r\n  return (\r\n    <div id=\"receipt\">\r\n      <div>\r\n        <img src={img} alt=\"Logo\" style={{ width: \"100%\" }} />\r\n      </div>\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <p>Merawat dengan Hati</p>\r\n      </div>\r\n      <div>\r\n        <table\r\n          style={{\r\n            width: \"100%\",\r\n          }}\r\n        >\r\n          <tbody>\r\n            <tr>\r\n              <th style={{ textAlign: \"left\" }}>\r\n                <h5 style={{ margin: 0 }}>Nama Petugas</h5>\r\n              </th>\r\n              <td>\r\n                <h5 style={{ margin: 0 }}>: {data.petugas?.nama || \"-\"}</h5>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th style={{ textAlign: \"left\" }}>\r\n                <h5 style={{ margin: 0 }}>Tanggal Transaksi</h5>\r\n              </th>\r\n              <td>\r\n                <h5 style={{ margin: 0 }}>\r\n                  :{\" \"}\r\n                  {window.moment(new Date()).format(\"DD MMM YYYY HH:mm:ss\") ||\r\n                    \"-\"}\r\n                </h5>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th style={{ textAlign: \"left\" }}>\r\n                <h5 style={{ margin: 0 }}>Nama Pasien</h5>\r\n              </th>\r\n              <td>\r\n                <h5 style={{ margin: 0 }}>: {data.pasien || \"-\"}</h5>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th style={{ textAlign: \"left\" }}>\r\n                <h5 style={{ margin: 0 }}>Nomor Registrasi</h5>\r\n              </th>\r\n              <td>\r\n                <h5 style={{ margin: 0 }}>: {data.code_reg || \"-\"}</h5>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td\r\n                colSpan=\"2\"\r\n                style={{\r\n                  borderStyle: \"dashed\",\r\n                  borderRight: \"unset\",\r\n                  borderLeft: \"unset\",\r\n                  borderTop: \"unset\",\r\n                }}\r\n              ></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <table style={{ width: \"100%\", fontSize: 14 }}>\r\n          {data &&\r\n            data.items &&\r\n            data.items.map((item, index) => {\r\n              return (\r\n                <tbody key={index.toString()}>\r\n                  <tr>\r\n                    <td>{item.nama}</td>\r\n                    <td>{item.qty}</td>\r\n                    <td>{rupiah(item.harga)}</td>\r\n                    <td>{rupiah(item.harga * item.qty)}</td>\r\n                  </tr>\r\n                  {item.composite_item &&\r\n                    item.composite_item.map((value, idx) => {\r\n                      return (\r\n                        <tr key={idx.toString()}>\r\n                          <td>-{value.nama}</td>\r\n                          <td>{value.qty}</td>\r\n                          <td>{rupiah(0)}</td>\r\n                          <td>{rupiah(0)}</td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                </tbody>\r\n              );\r\n            })}\r\n          <tbody>\r\n            <tr>\r\n              <td\r\n                colSpan=\"4\"\r\n                style={{\r\n                  borderStyle: \"dashed\",\r\n                  borderRight: \"unset\",\r\n                  borderLeft: \"unset\",\r\n                  borderTop: \"unset\",\r\n                }}\r\n              ></td>\r\n            </tr>\r\n          </tbody>\r\n          <tbody>\r\n            <tr>\r\n              <th colSpan=\"3\" style={{ textAlign: \"right\" }}>\r\n                Total\r\n              </th>\r\n              <th colSpan=\"2\" style={{ textAlign: \"left\" }}>\r\n                {data.items ? rupiah(countSubTotal(data.items)) : 0}\r\n              </th>\r\n            </tr>\r\n            <tr>\r\n              <th colSpan=\"3\" style={{ textAlign: \"right\" }}>\r\n                Biaya Penanganan\r\n              </th>\r\n              <th colSpan=\"2\" style={{ textAlign: \"left\" }}>\r\n                {rupiah(data.handlingFee || 0)}\r\n              </th>\r\n            </tr>\r\n            <tr>\r\n              <th colSpan=\"3\" style={{ textAlign: \"right\" }}>\r\n                Total Keseluruhan\r\n              </th>\r\n              <th colSpan=\"2\" style={{ textAlign: \"left\" }}>\r\n                {data.items\r\n                  ? rupiah(data.handlingFee + countSubTotal(data.items))\r\n                  : 0}\r\n              </th>\r\n            </tr>\r\n            <tr>\r\n              <th colSpan=\"3\" style={{ textAlign: \"right\" }}>\r\n                Bayar\r\n              </th>\r\n              <th colSpan=\"2\" style={{ textAlign: \"left\" }}>\r\n                {rupiah(data.payment || 0)}\r\n              </th>\r\n            </tr>\r\n            <tr>\r\n              <th colSpan=\"3\" style={{ textAlign: \"right\" }}>\r\n                Kembalian\r\n              </th>\r\n              <th colSpan=\"2\" style={{ textAlign: \"left\" }}>\r\n                {rupiah(\r\n                  (data.payment || 0) -\r\n                    ((data.handlingFee || 0) + countSubTotal(data.items))\r\n                )}\r\n              </th>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div style={{ marginTop: 10, fontSize: 14 }}>\r\n          <p>\r\n            Catatan: Berikut Obat tidak tersedia: Andalan Pil(10), Erla SM(10),\r\n            Paket Paracetamoll 24ml(10). Anda dapat mengambil obat setelah Kami\r\n            menghubungi Anda.\r\n          </p>\r\n        </div>\r\n        <div style={{ marginTop: 100 }}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useLayoutEffect, useRef } from \"react\";\r\nimport { connect, useSelector, shallowEqual } from \"react-redux\";\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  CardHeaderToolbar,\r\n} from \"../../../_metronic/_partials/controls\";\r\nimport { MODAL } from \"../../../service/modalSession/ModalService\";\r\nimport { useSubheader } from \"../../../_metronic/layout\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport { toAbsoluteUrl } from \"../../../_metronic/_helpers\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport {\r\n  getMedicineById,\r\n  savePayment,\r\n  getMedicalRecord,\r\n} from \"./_redux/CrudHandlingTeller\";\r\nimport { publish } from \"../../../redux/MqttOptions\";\r\nimport { rupiah } from \"../../components/currency\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport * as auth from \"../Auth/_redux/ActionAuth\";\r\nimport { ReceiptContent } from \"../../../service/print/ReceiptContent\";\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  DialogActions,\r\n} from \"@material-ui/core\";\r\n\r\nfunction comparerData(otherArray) {\r\n  return function (current) {\r\n    return (\r\n      otherArray.filter(function (other) {\r\n        // wajib compare data yang tidak boleh berubah. contoh ID. sisanya boleh compare dengan data yang berubah.\r\n        return other.id === current.id;\r\n      }).length === 0\r\n    );\r\n  };\r\n}\r\n\r\nfunction DetailTeller(props) {\r\n  const { intl } = props;\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingSubmit, setLoadingSubmit] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const [err, setErr] = useState(false);\r\n  const suhbeader = useSubheader();\r\n  const [dataMedicine, setDataMedicine] = useState([]);\r\n  const resep_id = props.match.params.resep_id;\r\n  const medical_id = props.match.params.medical_id;\r\n  const [handlingFee, setHandlingFee] = useState(0);\r\n  const [dialogProcess, setDialogProcess] = useState(false);\r\n  const [payment, setPayment] = useState(0);\r\n  const client = useSelector(\r\n    ({ clientMqtt }) => clientMqtt.client,\r\n    shallowEqual\r\n  );\r\n  const user = useSelector(({ auth }) => auth.user, shallowEqual);\r\n  const [content, setContent] = useState({});\r\n\r\n  useLayoutEffect(() => {\r\n    suhbeader.setBreadcrumbs([\r\n      {\r\n        pathname: `/teller/dashboard`,\r\n        title: intl.formatMessage({ id: \"MENU.DASHBOARD\" }),\r\n      },\r\n      {\r\n        pathname: `/teller/handling-page/process/${resep_id}/${medical_id}`,\r\n        title: intl.formatMessage({ id: \"LABEL.DRUG_PAYMENT\" }),\r\n      },\r\n    ]);\r\n    suhbeader.setTitle(intl.formatMessage({ id: \"LABEL.DRUG_PAYMENT\" }));\r\n  }, []);\r\n\r\n  const callApiGetMedical = () => {\r\n    setLoading(true);\r\n    getMedicalRecord(medical_id)\r\n      .then((result) => {\r\n        setLoading(false);\r\n        setData(result.data.data.form[0]);\r\n        setHandlingFee(result.data.data.form[0].fee);\r\n        callApiGetMedicine(\r\n          result.data.data.resep ? result.data.data.resep : []\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        MODAL.showSnackbar(intl.formatMessage({ id: \"REQ.REQUEST_FAILED\" }));\r\n      });\r\n  };\r\n\r\n  useEffect(callApiGetMedical, []);\r\n  useEffect(() => {\r\n    setPayment((handlingFee || 0) + countSubTotal(dataMedicine || []));\r\n  }, [handlingFee, dataMedicine]);\r\n\r\n  async function callApiGetMedicine(dataMedicinePatient) {\r\n    if (dataMedicinePatient && dataMedicinePatient.length > 0) {\r\n      var data = dataMedicinePatient;\r\n      var waiting = new Promise(async (resolve, reject) => {\r\n        for (let i = 0; i < data.length; i++) {\r\n          try {\r\n            var result = await getMedicineById(data[i].id);\r\n            data[i].composite_item = result.data.data.composite_item;\r\n            data[i].qty = data[i].qty ? data[i].qty : 1;\r\n            if (i === data.length - 1) resolve();\r\n          } catch (error) {\r\n            MODAL.showSnackbar(\r\n              intl.formatMessage({ id: \"REQ.REQUEST_FAILED\" })\r\n            );\r\n            if (i === data.length - 1) resolve();\r\n          }\r\n        }\r\n      });\r\n      await waiting;\r\n      setDataMedicine(data);\r\n    }\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   async function callApiGetMedicine() {\r\n  //     if (medicinePatient && medicinePatient.length > 0) {\r\n  //       var data = medicinePatient;\r\n  //       var waiting = new Promise(async (resolve, reject) => {\r\n  //         for (let i = 0; i < data.length; i++) {\r\n  //           try {\r\n  //             var result = await getMedicineById(data[i].id);\r\n  //             data[i].composite_item = result.data.data.composite_item;\r\n  //             data[i].qty = data[i].qty ? data[i].qty : 1;\r\n  //             if (i === data.length - 1) resolve();\r\n  //           } catch (error) {\r\n  //             MODAL.showSnackbar(\r\n  //               intl.formatMessage({ id: \"REQ.REQUEST_FAILED\" })\r\n  //             );\r\n  //             if (i === data.length - 1) resolve();\r\n  //           }\r\n  //         }\r\n  //       });\r\n  //       await waiting;\r\n  //       setDataMedicine(data);\r\n  //     }\r\n  //   }\r\n  //   callApiGetMedicine();\r\n  // }, []);\r\n\r\n  const mqttPublish = () => {\r\n    if (client) {\r\n      const { topic, qos, payload } = publish;\r\n      client.publish(topic, payload, { qos }, (error) => {\r\n        if (error) {\r\n          console.log(\"Publish error: \", error);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const callApiSubmitMedicalRecord = () => {\r\n    var item = data;\r\n    item.items = dataMedicine;\r\n    item.petugas = user;\r\n    item.handlingFee = handlingFee;\r\n    item.payment = payment;\r\n    setContent(item);\r\n    setLoadingSubmit(true);\r\n    var data_ = {\r\n      resep_id,\r\n      pay_amt: payment,\r\n    };\r\n    savePayment(data_)\r\n      .then((result) => {\r\n        setLoadingSubmit(false);\r\n        setDialogProcess(true);\r\n        handleContentPrint(item);\r\n        MODAL.showSnackbar(\r\n          intl.formatMessage({ id: \"LABEL.UPDATE_DATA_SUCCESS\" }),\r\n          \"success\"\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n        setLoadingSubmit(false);\r\n        MODAL.showSnackbar(intl.formatMessage({ id: \"REQ.REQUEST_FAILED\" }));\r\n      });\r\n  };\r\n\r\n  const handleContentPrint = (item = content) => {\r\n    const html = ReactDOMServer.renderToStaticMarkup(\r\n      <ReceiptContent data={item} />\r\n    );\r\n    var mywindow = window.open();\r\n    mywindow.document.write(\r\n      \"<html><head><title>\" +\r\n        data.code_reg +\r\n        \"-\" +\r\n        data.pasien +\r\n        \"-\" +\r\n        window.moment(new Date(data.created_at)).format(\"DD MMM YYYY\") +\r\n        \"-\" +\r\n        data.poli +\r\n        \"</title>\"\r\n    );\r\n    mywindow.document.write(\"<html></head><body >\");\r\n    mywindow.document.write(html.toString());\r\n    mywindow.document.write(\"</body></html>\");\r\n\r\n    mywindow.document.close();\r\n    mywindow.focus();\r\n    setTimeout(() => {\r\n      mywindow.print();\r\n      mywindow.close();\r\n    }, 500);\r\n  };\r\n\r\n  const countSubTotal = (data) => {\r\n    var count = 0;\r\n    data.map((item) => {\r\n      count += item.harga * item.qty;\r\n    });\r\n    return count;\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Dialog\r\n        open={dialogProcess}\r\n        // keepMounted\r\n        maxWidth=\"xs\"\r\n        fullWidth={true}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle>\r\n          <FormattedMessage id=\"LABEL.DONE\" />\r\n        </DialogTitle>\r\n\r\n        <DialogContent>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              handleContentPrint();\r\n            }}\r\n            className=\"btn btn-primary w-100 my-3\"\r\n          >\r\n            <FormattedMessage id=\"LABEL.PRINT\" />\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              setDialogProcess(false);\r\n              props.history.replace(`/teller/dashboard`);\r\n            }}\r\n            className=\"btn btn-success w-100 my-3\"\r\n          >\r\n            <FormattedMessage id=\"LABEL.DONE\" />\r\n          </button>\r\n        </DialogContent>\r\n      </Dialog>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <div className=\"card card-custom wave wave-animate-fast wave-primary gutter-b\">\r\n            <div className=\"card-body\">\r\n              <div className=\"d-flex align-items-center\">\r\n                <div className=\"symbol symbol-40 symbol-light-danger mr-5\">\r\n                  <span className=\"symbol-label\">\r\n                    <i className=\"fas fa-hospital-user h-75 align-self-end font-size-h1\"></i>\r\n                  </span>\r\n                </div>\r\n                <div className=\"d-flex flex-column flex-grow-1 font-weight-bold\">\r\n                  <h4 className=\"text-dark mb-1\">\r\n                    Nomor Kunjungan: {data.code_reg}\r\n                  </h4>\r\n                  <span className=\"text-muted\">\r\n                    {data.created_at\r\n                      ? window\r\n                          .moment(new Date(data.created_at))\r\n                          .format(\"DD MMM YYYY\")\r\n                      : \"\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          <div className=\"card card-custom wave wave-animate-fast wave-primary gutter-b\">\r\n            <div className=\"card-body\">\r\n              <div className=\"d-flex align-items-center\">\r\n                <div className=\"symbol symbol-40 symbol-light-danger mr-5\">\r\n                  <span className=\"symbol-label\">\r\n                    <i className=\"fas fa-user-nurse h-75 align-self-end font-size-h1\"></i>\r\n                  </span>\r\n                </div>\r\n                <div className=\"d-flex flex-column flex-grow-1 font-weight-bold\">\r\n                  <h4 className=\"text-dark mb-1\">{data.pasien}</h4>\r\n                  <span className=\"text-muted\">{data.poli}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12\">\r\n          <Card>\r\n            <CardHeader title=\"Resep Yang Diberikan\">\r\n              <CardHeaderToolbar></CardHeaderToolbar>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <table className=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Nama Obat</th>\r\n                    <th>Unit</th>\r\n                    <th>Harga</th>\r\n                    <th>Sub Total</th>\r\n                  </tr>\r\n                </thead>\r\n                {dataMedicine.map((item, index) => {\r\n                  return (\r\n                    <tbody key={index.toString()}>\r\n                      <tr>\r\n                        <td>{item.nama}</td>\r\n                        <td>\r\n                          <NumberFormat\r\n                            value={item.qty}\r\n                            id=\"NumberFormat-text\"\r\n                            displayType=\"text\"\r\n                            className=\"form-control\"\r\n                            allowEmptyFormatting={true}\r\n                            allowLeadingZeros={false}\r\n                            allowNegative={false}\r\n                            onValueChange={(e) => {\r\n                              var data = Object.assign([], dataMedicine);\r\n                              var idx = data.findIndex(\r\n                                (value) => value.id === item.id\r\n                              );\r\n                              data[idx].qty = e.floatValue ? e.floatValue : 0;\r\n                              setDataMedicine(data);\r\n                            }}\r\n                          />\r\n                        </td>\r\n                        <td>{rupiah(item.harga)}</td>\r\n                        <td>{rupiah(item.harga * item.qty)}</td>\r\n                      </tr>\r\n                      {item.composite_item &&\r\n                        item.composite_item.map((value, idx) => {\r\n                          return (\r\n                            <tr\r\n                              key={idx.toString()}\r\n                              style={{ backgroundColor: \"#F3F6F9\" }}\r\n                            >\r\n                              <td className=\"pl-10\">{value.nama}</td>\r\n                              <td>\r\n                                <input\r\n                                  type=\"number\"\r\n                                  className=\"form-control\"\r\n                                  value={value.qty}\r\n                                  onChange={() => {}}\r\n                                  disabled\r\n                                />\r\n                              </td>\r\n                              <td>{rupiah(0)}</td>\r\n                              <td>{rupiah(0)}</td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                    </tbody>\r\n                  );\r\n                })}\r\n                <tbody>\r\n                  <tr>\r\n                    <th colSpan=\"2\"></th>\r\n                    <th>\r\n                      <FormattedMessage id=\"LABEL.TOTAL\" />\r\n                    </th>\r\n                    <th colSpan=\"2\">{rupiah(countSubTotal(dataMedicine))}</th>\r\n                  </tr>\r\n                  <tr>\r\n                    <th colSpan=\"2\"></th>\r\n                    <th>Biaya Penanganan</th>\r\n                    <th colSpan=\"2\">{rupiah(handlingFee)}</th>\r\n                  </tr>\r\n                  <tr>\r\n                    <th colSpan=\"2\"></th>\r\n                    <th>\r\n                      <FormattedMessage id=\"LABEL.GRAND_TOTAL\" />\r\n                    </th>\r\n                    <th colSpan=\"2\">\r\n                      {rupiah(handlingFee + countSubTotal(dataMedicine))}\r\n                    </th>\r\n                  </tr>\r\n                  <tr>\r\n                    <th colSpan=\"2\"></th>\r\n                    <th>Bayar</th>\r\n                    <th colSpan=\"2\">\r\n                      <NumberFormat\r\n                        value={payment}\r\n                        id={\r\n                          loadingSubmit\r\n                            ? \"NumberFormat-text\"\r\n                            : \"NumberFormat-input\"\r\n                        }\r\n                        displayType=\"input\"\r\n                        className=\"form-control\"\r\n                        allowEmptyFormatting={true}\r\n                        allowLeadingZeros={false}\r\n                        allowNegative={false}\r\n                        thousandSeparator={true}\r\n                        prefix={\"Rp \"}\r\n                        onValueChange={(e) => {\r\n                          setPayment(e.floatValue ? e.floatValue : 0);\r\n                        }}\r\n                        onClick={(e) => {\r\n                          e.target.focus();\r\n                          e.target.select();\r\n                        }}\r\n                      />\r\n                    </th>\r\n                  </tr>\r\n                  <tr>\r\n                    <th colSpan=\"2\"></th>\r\n                    <th>Kembalian</th>\r\n                    <th colSpan=\"2\">\r\n                      {rupiah(\r\n                        payment - (handlingFee + countSubTotal(dataMedicine))\r\n                      )}\r\n                    </th>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </CardBody>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n      <div className=\"toolbar-custom scrolltop\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-danger btn-sm my-2\"\r\n          style={{ width: 60 }}\r\n          disabled={loadingSubmit}\r\n          onClick={() => {\r\n            history.push(`/teller/dashboard`);\r\n          }}\r\n        >\r\n          <i className=\"fas fa-times-circle d-block p-0\"></i>\r\n          <span className=\"font-size-xs\">Cancel</span>\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary btn-sm my-2\"\r\n          style={{ width: 60 }}\r\n          disabled={\r\n            loadingSubmit ||\r\n            payment - (handlingFee + countSubTotal(dataMedicine)) < 0\r\n          }\r\n          onClick={() => {\r\n            callApiSubmitMedicalRecord();\r\n          }}\r\n        >\r\n          {loadingSubmit ? (\r\n            <i className=\"fas fa-spinner fa-pulse p-2\"></i>\r\n          ) : (\r\n            <i className=\"fas fa-check d-block p-0\"></i>\r\n          )}\r\n          <span className=\"font-size-xs\">Submit</span>\r\n        </button>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default injectIntl(connect(null, auth.actions)(DetailTeller));\r\n","import React, { useState, useEffect, useLayoutEffect } from \"react\";\r\nimport { connect, useSelector, shallowEqual } from \"react-redux\";\r\nimport { FormattedMessage, injectIntl } from \"react-intl\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  CardHeaderToolbar,\r\n} from \"../../../_metronic/_partials/controls\";\r\nimport { MODAL } from \"../../../service/modalSession/ModalService\";\r\nimport { useSubheader } from \"../../../_metronic/layout\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport { toAbsoluteUrl } from \"../../../_metronic/_helpers\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { handOver, listNeedClosing } from \"./_redux/CrudHandlingTeller\";\r\nimport { publish } from \"../../../redux/MqttOptions\";\r\nimport { rupiah } from \"../../components/currency\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport * as auth from \"../Auth/_redux/ActionAuth\";\r\nimport Select from \"react-select\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  DialogActions,\r\n  TableRow,\r\n  TableCell,\r\n  Switch,\r\n  Checkbox,\r\n} from \"@material-ui/core\";\r\nimport TableOnly from \"../../components/tableCustomV1/tableOnly\";\r\n\r\nconst headerTable = [\r\n  {\r\n    title: \"LABEL.TRANSACTION_CODE\",\r\n    name: \"kode_trans\",\r\n    filter: true,\r\n  },\r\n  {\r\n    title: \"LABEL.PRODUCT_SALE\",\r\n    name: \"total\",\r\n    filter: true,\r\n  },\r\n  {\r\n    title: \"LABEL.HANDLING_FEE\",\r\n    name: \"fee\",\r\n    filter: true,\r\n  },\r\n  {\r\n    title: \"LABEL.GRAND_TOTAL\",\r\n    name: \"grand_total\",\r\n    filter: true,\r\n  },\r\n];\r\n\r\nfunction comparerData(otherArray) {\r\n  return function (current) {\r\n    return (\r\n      otherArray.filter(function (other) {\r\n        // wajib compare data yang tidak boleh berubah. contoh ID. sisanya boleh compare dengan data yang berubah.\r\n        return other.id === current.id;\r\n      }).length === 0\r\n    );\r\n  };\r\n}\r\n\r\nfunction NeedClosingPage(props) {\r\n  const { intl } = props;\r\n  const history = useHistory();\r\n  const suhbeader = useSubheader();\r\n  const client = useSelector(\r\n    ({ clientMqtt }) => clientMqtt.client,\r\n    shallowEqual\r\n  );\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [dataSecond, setDataSecond] = useState([]);\r\n  const [grandTotal, setGrandTotal] = useState(0);\r\n\r\n  useLayoutEffect(() => {\r\n    suhbeader.setBreadcrumbs([\r\n      {\r\n        pathname: `/teller/dashboard`,\r\n        title: intl.formatMessage({ id: \"MENU.DASHBOARD\" }),\r\n      },\r\n      {\r\n        pathname: `/teller/handling-page/need-closing`,\r\n        title: intl.formatMessage({ id: \"LABEL.NEED_CLOSING\" }),\r\n      },\r\n    ]);\r\n    suhbeader.setTitle(intl.formatMessage({ id: \"LABEL.NEED_CLOSING\" }));\r\n  }, []);\r\n\r\n  const mqttPublish = () => {\r\n    if (client) {\r\n      const { topic, qos, payload } = publish;\r\n      client.publish(topic, payload, { qos }, (error) => {\r\n        if (error) {\r\n          console.log(\"Publish error: \", error);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const callApiListNeedClosing = () => {\r\n    setLoading(true);\r\n    listNeedClosing()\r\n      .then((result) => {\r\n        setLoading(false);\r\n        var grand_total = 0;\r\n        result.data.data.forEach((element) => {\r\n          grand_total += Number(element.grand_total);\r\n        });\r\n        setData(result.data.data);\r\n        setDataSecond(result.data.data);\r\n        setGrandTotal(grand_total);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        MODAL.showSnackbar(\r\n          err.response?.data.messages || err.response?.data.message\r\n        );\r\n      });\r\n  };\r\n\r\n  useEffect(callApiListNeedClosing, []);\r\n\r\n  const callApiProcess = () => {\r\n    setLoading(true);\r\n    handOver()\r\n      .then((result) => {\r\n        setLoading(false);\r\n        callApiListNeedClosing();\r\n        MODAL.showSnackbar(\r\n          intl.formatMessage({ id: \"LABEL.UPDATE_DATA_SUCCESS\" }),\r\n          \"success\"\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        MODAL.showSnackbar(\r\n          err.response?.data.messages || err.response?.data.message\r\n        );\r\n      });\r\n  };\r\n  const handleFilter = (data) => {\r\n    setData(data);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12\">\r\n          <Card>\r\n            <CardHeader title={rupiah(grandTotal)}>\r\n              <CardHeaderToolbar>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-sm btn-primary\"\r\n                  onClick={callApiProcess}\r\n                  disabled={loading || data.length === 0}\r\n                >\r\n                  <i\r\n                    className={`fas fa-sync ${loading ? \"fa-spin\" : \"\"} px-1`}\r\n                  ></i>\r\n                  <FormattedMessage id=\"LABEL.PROCESS\" />\r\n                </button>\r\n              </CardHeaderToolbar>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <TableOnly\r\n                dataHeader={headerTable}\r\n                dataSecond={dataSecond}\r\n                handleFilter={handleFilter}\r\n                loading={false}\r\n                hecto={10}\r\n              >\r\n                {data.map((item, index) => {\r\n                  return (\r\n                    <TableRow key={index.toString()}>\r\n                      <TableCell>{item.kode_trans}</TableCell>\r\n                      <TableCell>{rupiah(item.total)}</TableCell>\r\n                      <TableCell>{rupiah(item.fee)}</TableCell>\r\n                      <TableCell>{rupiah(item.grand_total)}</TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              </TableOnly>\r\n            </CardBody>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default injectIntl(connect(null, auth.actions)(NeedClosingPage));\r\n","import React from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport DetailTeller from \"./DetailTeller\";\r\nimport NeedClosingPage from \"./NeedClosingPage\";\r\nimport { injectIntl } from \"react-intl\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction RootHandlingTeller(props) {\r\n  return (\r\n    <Switch>\r\n      <Redirect exact from=\"/teller/handling-page\" to=\"/teller/dashboard\" />\r\n      <Route\r\n        path=\"/teller/handling-page/process/:resep_id/:medical_id\"\r\n        component={(props) => <DetailTeller {...props} />}\r\n        exact\r\n      />\r\n      <Route\r\n        path=\"/teller/handling-page/need-closing\"\r\n        component={(props) => <NeedClosingPage {...props} />}\r\n        exact\r\n      />\r\n    </Switch>\r\n  );\r\n}\r\nexport default injectIntl(connect(null, null)(RootHandlingTeller));\r\n"],"sourceRoot":""}