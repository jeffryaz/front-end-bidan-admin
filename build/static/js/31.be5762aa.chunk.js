(this.webpackJsonpaplication=this.webpackJsonpaplication||[]).push([[31],{1250:function(e,t,a){},1254:function(e,t,a){"use strict";var n=a(20),r=a(11),l=a(0),c=a.n(l),o=a(14),i=a(1230),s=a(279),m=a(1319),u=a(1273),d=a(1192),f=a(1274),p=a(1275),E=a(1276),g=a(1277),b=a(1369),v=a(1278),y=a(1346),L=a(1255),A=a(314),h=a.n(A),S=a(313),O=(a(1250),function(e){return function(e,t,a){var n={currency:t,style:"currency",currencyDisplay:"symbol"};return new Intl.NumberFormat(e,n).format(a)}("id-ID","IDR",e)});t.a=Object(s.c)(Object(o.b)(null,null)((function(e){var t=e.intl,a=e.dataHeader,l=void 0===a?[]:a,o=e.handleParams,s=e.loading,A=void 0!==s&&s,N=e.err,j=void 0!==N&&N,T=e.children,B=e.countData,w=void 0===B?0:B,D=e.hecto,k=void 0===D?1:D,P=c.a.useState({numberColum:0,page:0,count:w,rowsPerPage:10}),C=Object(r.a)(P,2),I=C[0],M=C[1],R=c.a.useState({name:l.filter((function(e){return!0===e.order.status&&!0===e.order.active})).length>0?l.filter((function(e){return!0===e.order.status&&!0===e.order.active}))[0].name.replace(/\s/g,""):"",order:!(l.filter((function(e){return!0===e.order.status&&!0===e.order.active})).length>0)||l.filter((function(e){return!0===e.order.status&&!0===e.order.active}))[0].order.status,type:l.filter((function(e){return!0===e.order.status&&!0===e.order.active&&null!==e.order.type})).length>0?l.filter((function(e){return!0===e.order.status&&!0===e.order.active&&null!==e.order.type}))[0].order.type:null}),x=Object(r.a)(R,2),_=x[0],F=x[1],U=c.a.useState({}),Q=Object(r.a)(U,2),Y=Q[0],H=Q[1],z=c.a.useState({filter:{},sort:{}}),V=Object(r.a)(z,2),J=V[0],Z=V[1],G=c.a.useState(null),W=Object(r.a)(G,2),X=W[0],q=W[1],K=c.a.useCallback((function(e,t){var a,r=Object(S.cloneDeep)(I),l=J;l.filter=function(e){var t="";for(var a in e)e[a]&&(t+="filter["+a+"]="+e[a]+"&");return t}(e||Y),l.sort="".concat((a=t||_).name,",").concat(null!==a.type?a.type?"asc":"desc":a.order?"asc":"desc"),r.page=r.page+1,l=Object.assign({},l,r),Z(Object(n.a)({},l));var c=l.filter+"page="+l.page+"&rowsPerPage="+l.rowsPerPage+"&sort="+l.sort;"function"===typeof o&&o(c)}),[Y,_,J,t,I]);c.a.useEffect(K,[]),c.a.useEffect((function(){M(Object(n.a)(Object(n.a)({},I),{},{count:w||0}))}),[w]);var $=function(){q(null)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("form",{id:"filter-form-all",className:"panel-filter-table mb-1"},c.a.createElement("span",{className:"mr-2 mt-2 float-left"},c.a.createElement(i.a,{id:"LABEL.FILTER.TABLE"})),c.a.createElement("div",{className:"d-block"},c.a.createElement("div",{className:""},l.filter((function(e){return!0===e.filter.active})).map((function(e,a){return c.a.createElement("div",{key:a.toString(),className:"btn-group hover-filter-table",status:"closed",id:a},c.a.createElement("div",{className:"btn btn-sm",id:"sub-filter-"+a,onClick:function(){q(a)}},c.a.createElement("span",null,c.a.createElement(i.a,{id:e.title}),":"),c.a.createElement("strong",{style:{paddingRight:1,paddingLeft:1}},c.a.createElement("span",{className:"filter-label",id:"filter-span-"+a},"currency"===e.filter.type&&Y[e.name.replace(/\s/g,"")]?O(Number(Y[e.name.replace(/\s/g,"")])):"phone"===e.filter.type&&Y[e.name.replace(/\s/g,"")]?"(62)".concat(Y[e.name.replace(/\s/g,"")]):"date"===e.filter.type&&Y[e.name.replace(/\s/g,"")]?"".concat(h()(new Date(Y[e.name.replace(/\s/g,"")])).format("DD MMM YYYY")):Y[e.name.replace(/\s/g,"")])),Y[e.name.replace(/\s/g,"")]?null:c.a.createElement("span",{style:{color:"#777777"}},c.a.createElement(i.a,{id:"LABEL.ALL"}))),c.a.createElement(m.a,{anchorEl:document.getElementById("sub-filter-".concat(X||0)),keepMounted:!1,open:a===X,onClose:$,PaperProps:{style:{transform:"translateX(0px) translateY(40px)"}}},c.a.createElement("div",{className:"px-2"},c.a.createElement("div",{className:"float-left"},"currency"===e.filter.type?c.a.createElement(L.a,{value:Y[e.name.replace(/\s/g,"")]||"",displayType:"input",className:"form-control",name:e.name.replace(/\s/g,""),id:e.name.replace(/\s/g,""),thousandSeparator:".",decimalSeparator:",",allowEmptyFormatting:!0,allowLeadingZeros:!0,prefix:"Rp ",onValueChange:function(e){}}):"phone"===e.filter.type?c.a.createElement(L.a,{value:Y[e.name.replace(/\s/g,"")]||"",displayType:"input",className:"form-control",name:e.name.replace(/\s/g,""),id:e.name.replace(/\s/g,""),format:"(+62)############",mask:"_",allowEmptyFormatting:!0,allowLeadingZeros:!0,onValueChange:function(e){}}):c.a.createElement("input",{type:e.filter.type,className:"form-control",min:"0",name:e.name.replace(/\s/g,""),id:e.name.replace(/\s/g,""),defaultValue:Y[e.name.replace(/\s/g,"")]||"",placeholder:t.formatMessage({id:"LABEL.ALL"}),style:{width:200}})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("button",{type:"button",className:"mx-1 float-left btn btn-sm btn-primary",onClick:function(){!function(e,t){var a=Y;a[e]=document.getElementById(e).value,"currency"===t?a[e]=a[e].replace(/[Rp .]/g,"").replace(/[,]/g,"."):"phone"===t&&(a[e]=a[e].replace(/[(+62)_]/g,""));var r=I;r.page=0,M(r),H(Object(n.a)({},a)),K()}(e.name.replace(/\s/g,""),e.filter.type),$()}},c.a.createElement(i.a,{id:"LABEL.UPDATE"})),c.a.createElement("button",{type:"button",className:"mx-1 float-right btn btn-sm btn-light d-flex",onClick:function(){!function(e){var t=Y;t[e]="",document.getElementById(e).value="",H(Object(n.a)({},t)),K()}(e.name.replace(/\s/g,"")),$()}},c.a.createElement("i",{className:"fas fa-redo fa-right py-1 mx-1"}),c.a.createElement("span",{className:"pt-1"},c.a.createElement(i.a,{id:"LABEL.FILTER.RESET.TABLE"})))))))})),c.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger ml-2 mt-2 button-filter-submit",onClick:function(){H({}),document.getElementById("filter-form-all").reset(),K({})}},c.a.createElement(i.a,{id:"LABEL.FILTER.RESET.TABLE"}))))),c.a.createElement("div",null,c.a.createElement(u.a,{component:d.a},c.a.createElement(f.a,{className:"hecto-"+k},c.a.createElement(p.a,null,c.a.createElement(E.a,null,l.map((function(e,t){return c.a.createElement(g.a,{className:"bg-primary text-uppercase ".concat((null===e||void 0===e?void 0:e.td)?null===e||void 0===e?void 0:e.td:""),key:t.toString()},e.order.active?c.a.createElement(b.a,{active:_.name===e.name.replace(/\s/g,""),direction:null!==_.type?_.type?"asc":"desc":_.order?"asc":"desc",onClick:function(){!function(e){var t=_;e.name.replace(/\s/g,"")===t.name?null!==t.type?t.type=!t.type:t.order=!t.order:(t.name=e.name.replace(/\s/g,""),t.order=!0,t.type=null),F(Object(n.a)({},t)),K()}(e)}},c.a.createElement("span",null,c.a.createElement(i.a,{id:e.title}))):c.a.createElement("span",null,c.a.createElement(i.a,{id:e.title})))})))),c.a.createElement(v.a,null,T)),c.a.createElement("div",{className:"table-loading-data"},c.a.createElement("div",{className:"text-center font-weight-bold py-5"},c.a.createElement("div",{className:"table-loading-data-potition"},A&&c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-spinner fa-pulse text-dark mr-1"}),c.a.createElement(i.a,{id:"LABEL.TABLE.WAITING_DATA"})),j&&c.a.createElement("span",{className:"text-danger"},c.a.createElement("i",{className:"far fa-frown text-danger mr-1"}),c.a.createElement(i.a,{id:"LABEL.ERROR_REQUEST"})))))),c.a.createElement(y.a,{rowsPerPageOptions:[10,25,50,75,100,250,500,1e3],component:"div",count:I.count,rowsPerPage:I.rowsPerPage,page:I.page,onChangePage:function(e,t){var a=I;a.numberColum=t>a.page?a.numberColum+a.rowsPerPage:a.numberColum-a.rowsPerPage,a.page=t,M(Object(n.a)({},a)),K()},onChangeRowsPerPage:function(e){var t=I;t.page=0,t.rowsPerPage=parseInt(e.target.value,10),t.numberColum=0,M(Object(n.a)({},t)),K()}}))))})))},1361:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(100),c=a(164),o=a(20),i=a(11),s=a(14),m=a(1230),u=a(279),d=a(371),f=a(1276),p=a(1277),E=a(30),g=a(32),b=a.n(g);var v=a(49),y=(a(60),a(104),a(1254)),L=[{title:"LABEL.NAME",name:"nama",order:{active:!0,status:!0,type:!0},filter:{active:!0,type:"text"},td:"td-20"},{title:"LABEL.SATISFACTION_LAVEL",name:"tingkat_kepuasan",order:{active:!1,status:!1},filter:{active:!1,type:"text"},td:"td-15"},{title:"LABEL.COMMENT",name:"komentar",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.DATE",name:"updated_at",order:{active:!0,status:!1},filter:{active:!0,type:"date"},td:"td-15"},{title:"LABEL.PUBLISH",name:"publish",order:{active:!1,status:!1},filter:{active:!1,type:"text"}},{title:"LABEL.TABLE_HEADER.ACTION",name:"action",order:{active:!1,status:!1},filter:{active:!1,type:"text"}}];var A=Object(u.c)(Object(s.b)(null,null)((function(e){var t=e.intl,a=Object(n.useState)(!1),l=Object(i.a)(a,2),s=l[0],u=l[1],g=Object(E.i)(),A=Object(n.useState)({data:[],count:0}),h=Object(i.a)(A,2),S=h[0],O=h[1],N=Object(n.useState)(!1),j=Object(i.a)(N,2),T=j[0],B=j[1],w=Object(n.useState)(""),D=Object(i.a)(w,2),k=D[0],P=D[1];Object(n.useLayoutEffect)((function(){g.setBreadcrumbs([{pathname:"/administrator/dashboard",title:t.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/administrator/testimonial",title:t.formatMessage({id:"LABEL.TESTIMONIAL"})}]),g.setTitle(t.formatMessage({id:"LABEL.TESTIMONIAL"}))}),[]);var C=function(e){u(!0),O(Object(o.a)(Object(o.a)({},S),{},{count:0,data:[]})),B(!1),P(e),function(e){return b.a.get("/api/v1/testimoni".concat(e?"?"+e:""))}(e).then((function(e){u(!1),O(Object(o.a)(Object(o.a)({},S),{},{count:0,data:e.data.data}))})).catch((function(e){B(!0),u(!1),v.a.showSnackbar(t.formatMessage({id:"REQ.REQUEST_FAILED"}))}))},I=function(e){(function(e){return b.a.put("/api/v1/testimoni/publish/".concat(e))})(e).then((function(e){v.a.showSnackbar(t.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success"),C(k)})).catch((function(e){B(!0),u(!1),v.a.showSnackbar(t.formatMessage({id:"REQ.REQUEST_FAILED"}))}))},M=function(e){(function(e){return b.a.put("/api/v1/testimoni/unpublish/".concat(e))})(e).then((function(e){v.a.showSnackbar(t.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success"),C(k)})).catch((function(e){B(!0),u(!1),v.a.showSnackbar(t.formatMessage({id:"REQ.REQUEST_FAILED"}))}))},R=function(e){(function(e){return b.a.delete("/api/v1/testimoni/staff/".concat(e))})(e).then((function(e){v.a.showSnackbar(t.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success"),C(k)})).catch((function(e){B(!0),u(!1),v.a.showSnackbar(t.formatMessage({id:"REQ.REQUEST_FAILED"}))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,null,r.a.createElement(d.c,null,r.a.createElement(y.a,{dataHeader:L,handleParams:C,loading:s,err:T,countData:S.count,hecto:10},S.data.map((function(e,t){return r.a.createElement(f.a,{key:t.toString()},r.a.createElement(p.a,null,null===e||void 0===e?void 0:e.pasien.nama),r.a.createElement(p.a,null,Object(c.a)(Array((null===e||void 0===e?void 0:e.star)||0)).map((function(e,t){return r.a.createElement("i",{className:"fas fa-star",style:{color:"#FFD700",fontSize:"large"},key:t.toString()})})),Object(c.a)(Array(5-((null===e||void 0===e?void 0:e.star)||0))).map((function(e,t){return r.a.createElement("i",{className:"far fa-star",style:{color:"#FFD700",fontSize:"large"},key:t.toString()})}))),r.a.createElement(p.a,null,null===e||void 0===e?void 0:e.testimoni),r.a.createElement(p.a,null,window.moment(new Date(null===e||void 0===e?void 0:e.updated_at)).format("DD MMM YYYY HH:mm:ss")),r.a.createElement(p.a,null,1===(null===e||void 0===e?void 0:e.publish)?r.a.createElement("i",{className:"fas fa-toggle-on font-size-h2 text-primary cursor-pointer",onClick:function(){M(e.id)}}):r.a.createElement("i",{className:"fas fa-toggle-off font-size-h2 text-danger cursor-pointer",onClick:function(){I(e.id)}})),r.a.createElement(p.a,null,r.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger",onClick:function(){R(e.id)}},r.a.createElement(m.a,{id:"LABEL.DELETE"}))))}))))))})));t.default=Object(u.c)(Object(s.b)(null,null)((function(e){return r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/administrator/testimonial",component:function(e){return r.a.createElement(A,e)},exact:!0}))})))}}]);
//# sourceMappingURL=31.be5762aa.chunk.js.map