(this.webpackJsonpaplication=this.webpackJsonpaplication||[]).push([[17],{1240:function(e,a,t){},1241:function(e,a,t){"use strict";var n=t(12),l=t(0),r=t.n(l),c=t(15),i=t(1220),o=t(278),s=t(1268),m=t(1182),u=t(1269),d=t(1270),E=t(1271),f=t(1272),p=t(1273);t(1240);a.a=Object(o.c)(Object(c.b)(null,null)((function(e){var a=e.intl,t=e.dataHeader,l=void 0===t?[]:t,c=e.loading,o=void 0!==c&&c,b=e.err,g=void 0!==b&&b,L=e.children,v=e.hecto,A=void 0===v?1:v,N=e.handleFilter,h=e.dataSecond,O=void 0===h?[]:h,y=r.a.useState(l.filter((function(e){return!0===e.filter}))),S=Object(n.a)(y,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"LABEL.SEARCH",className:"col-sm-3 col-form-label"},r.a.createElement(i.a,{id:"LABEL.SEARCH"}),":"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"text",className:"form-control",id:"LABEL.SEARCH",placeholder:a.formatMessage({id:"LABEL.SEARCH"}),onChange:function(e){for(var a=[],t=0;t<O.length;t++)for(var n=0;n<S.length;n++){if(O[t][S[n].name].toString().toLowerCase().includes(e.target.value.toLowerCase())){a.push(O[t]);break}}"function"===typeof N&&N(a)}}))))),r.a.createElement(s.a,{component:m.a},r.a.createElement(u.a,{className:"hecto-"+A},r.a.createElement(d.a,null,r.a.createElement(E.a,null,l.map((function(e,a){return r.a.createElement(f.a,{className:"bg-primary text-uppercase",key:a.toString()},r.a.createElement("span",null,r.a.createElement(i.a,{id:e.title})))})))),r.a.createElement(p.a,null,L)),r.a.createElement("div",{className:"table-loading-data"},r.a.createElement("div",{className:"text-center font-weight-bold py-5"},r.a.createElement("div",{className:"table-loading-data-potition"},o&&r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-spinner fa-pulse text-dark mr-1"}),r.a.createElement(i.a,{id:"LABEL.TABLE.WAITING_DATA"})),g&&r.a.createElement("span",{className:"text-danger"},r.a.createElement("i",{className:"far fa-frown text-danger mr-1"}),r.a.createElement(i.a,{id:"LABEL.ERROR_REQUEST"}))))))))})))},1242:function(e,a,t){"use strict";t.d(a,"a",(function(){return g}));var n=t(12),l=t(0),r=t.n(l),c=t(21),i=t(1238),o=t(1217),s=t(1289),m=t(1316),u=t(1260),d=t(1261),E=t(1267),f=t(1220),p=t(13),b=Object(c.a)((function(e){return{tooltip:{boxShadow:e.shadows[1],fontSize:"0.875rem",marginTop:"0.25rem"}}}))(i.a);function g(e){var a=e.data,t=e.handleAction,l=e.ops,c=e.label,i=void 0===c?null:c,g=e.exclude,L=void 0===g?[]:g,v=r.a.useState(null),A=Object(n.a)(v,2),N=A[0],h=A[1],O=Boolean(N);function y(e){h(e.currentTarget)}function S(){h(null)}var T=r.a.useCallback((function(e,a){"function"===typeof t&&t(e,a),S()}),[t,S]),j=l;return r.a.createElement("div",null,i?r.a.createElement(b,{title:r.a.createElement(f.a,{id:i}),placement:"bottom"},r.a.createElement(o.a,{"aria-label":"More","aria-controls":"long-menu","aria-haspopup":"true",onClick:y},r.a.createElement(E.a,null))):r.a.createElement(o.a,{"aria-label":"More","aria-controls":"long-menu","aria-haspopup":"true",onClick:y,style:{margin:"-6px 0px",padding:8}},r.a.createElement(E.a,null)),r.a.createElement(s.a,{id:"long-menu",anchorEl:N,keepMounted:!0,open:O,onClose:S,PaperProps:{style:{width:300,marginLeft:-50}}},j.filter((function(e){return!L.includes(e.type)})).map((function(e,t){var n,l;return e.to?r.a.createElement(p.b,{key:t,to:null===(n=e.to)||void 0===n?void 0:n.url,style:null===(l=e.to)||void 0===l?void 0:l.style},r.a.createElement(m.a,null,r.a.createElement(u.a,null,r.a.createElement("i",{className:e.icon})),r.a.createElement(d.a,{primary:r.a.createElement(f.a,{id:e.label})}))):r.a.createElement(m.a,{key:t,onClick:function(){return T(e.type,a)},disabled:e.disabled},r.a.createElement(u.a,null,r.a.createElement("i",{className:e.icon})),r.a.createElement(d.a,{primary:r.a.createElement(f.a,{id:e.label})}))}))))}},1245:function(e,a,t){"use strict";var n=t(33),l=t(12),r=t(0),c=t.n(r),i=t(15),o=t(1220),s=t(278),m=t(1289),u=t(1268),d=t(1182),E=t(1269),f=t(1270),p=t(1271),b=t(1272),g=t(1323),L=t(1273),v=t(1306),A=t(1244),N=t(313),h=t.n(N),O=(t(1240),function(e){return function(e,a,t){var n={currency:a,style:"currency",currencyDisplay:"symbol"};return new Intl.NumberFormat(e,n).format(t)}("id-ID","IDR",e)});a.a=Object(s.c)(Object(i.b)(null,null)((function(e){var a=e.intl,t=e.dataHeader,r=void 0===t?[]:t,i=e.handleParams,s=e.loading,N=void 0!==s&&s,y=e.err,S=void 0!==y&&y,T=e.children,j=e.countData,_=void 0===j?0:j,I=e.hecto,B=void 0===I?1:I,C=c.a.useState({numberColum:0,page:0,count:_,rowsPerPage:10}),R=Object(l.a)(C,2),D=R[0],M=R[1],w=c.a.useState({name:r.filter((function(e){return!0===e.order.status&&!0===e.order.active})).length>0?r.filter((function(e){return!0===e.order.status&&!0===e.order.active}))[0].name.replace(/\s/g,""):"",order:!(r.filter((function(e){return!0===e.order.status&&!0===e.order.active})).length>0)||r.filter((function(e){return!0===e.order.status&&!0===e.order.active}))[0].order.status,type:r.filter((function(e){return!0===e.order.status&&!0===e.order.active&&null!==e.order.type})).length>0?r.filter((function(e){return!0===e.order.status&&!0===e.order.active&&null!==e.order.type}))[0].order.type:null}),x=Object(l.a)(w,2),k=x[0],P=x[1],F=c.a.useState({}),H=Object(l.a)(F,2),Y=H[0],V=H[1],U=c.a.useState({filter:{},sort:{}}),Q=Object(l.a)(U,2),G=Q[0],q=Q[1],K=c.a.useState(null),W=Object(l.a)(K,2),z=W[0],J=W[1],Z=c.a.useCallback((function(e,a){var t,l=Object.assign({},D),r=G;r.filter=function(e){var a="";for(var t in e)e[t]&&(a+="filter["+t+"]="+e[t]+"&");return a}(e||Y),r.sort="".concat((t=a||k).name,",").concat(null!==t.type?t.type?"asc":"desc":t.order?"asc":"desc"),l.page=l.page+1,r=Object.assign({},r,l),q(Object(n.a)({},r));var c=r.filter+"page="+r.page+"&rowsPerPage="+r.rowsPerPage+"&sort="+r.sort;"function"===typeof i&&i(c)}),[Y,k,G,a,D]);c.a.useEffect(Z,[]),c.a.useEffect((function(){M(Object(n.a)(Object(n.a)({},D),{},{count:_||0}))}),[_]);var X=function(){J(null)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("form",{id:"filter-form-all",className:"panel-filter-table mb-1"},c.a.createElement("span",{className:"mr-2 mt-2 float-left"},c.a.createElement(o.a,{id:"LABEL.FILTER.TABLE"})),c.a.createElement("div",{className:"d-block"},c.a.createElement("div",{className:""},r.filter((function(e){return!0===e.filter.active})).map((function(e,t){return c.a.createElement("div",{key:t.toString(),className:"btn-group hover-filter-table",status:"closed",id:t},c.a.createElement("div",{className:"btn btn-sm dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false",id:"sub-filter-"+t,onClick:function(){J(t)}},c.a.createElement("span",null,c.a.createElement(o.a,{id:e.title}),":"),c.a.createElement("strong",{style:{paddingRight:1,paddingLeft:1}},c.a.createElement("span",{className:"filter-label",id:"filter-span-"+t},"currency"===e.filter.type&&Y[e.name.replace(/\s/g,"")]?O(Number(Y[e.name.replace(/\s/g,"")])):"phone"===e.filter.type&&Y[e.name.replace(/\s/g,"")]?"(62)".concat(Y[e.name.replace(/\s/g,"")]):"date"===e.filter.type&&Y[e.name.replace(/\s/g,"")]?"".concat(h()(new Date(Y[e.name.replace(/\s/g,"")])).format("DD MMM YYYY")):Y[e.name.replace(/\s/g,"")])),Y[e.name.replace(/\s/g,"")]?null:c.a.createElement("span",{style:{color:"#777777"}},c.a.createElement(o.a,{id:"LABEL.ALL"}))),c.a.createElement(m.a,{anchorEl:document.getElementById("sub-filter-".concat(z))?document.getElementById("sub-filter-".concat(z)):null,keepMounted:!1,open:"sub-filter-".concat(t)==="sub-filter-".concat(z),onClose:X,PaperProps:{style:{transform:"translateX(0px) translateY(40px)"}}},c.a.createElement("div",{className:"px-2"},c.a.createElement("div",{className:"float-left"},"currency"===e.filter.type?c.a.createElement(A.a,{value:Y[e.name.replace(/\s/g,"")]||"",displayType:"input",className:"form-control",name:e.name.replace(/\s/g,""),id:e.name.replace(/\s/g,""),thousandSeparator:".",decimalSeparator:",",allowEmptyFormatting:!0,allowLeadingZeros:!0,prefix:"Rp ",onValueChange:function(e){}}):"phone"===e.filter.type?c.a.createElement(A.a,{value:Y[e.name.replace(/\s/g,"")]||"",displayType:"input",className:"form-control",name:e.name.replace(/\s/g,""),id:e.name.replace(/\s/g,""),format:"(+62)############",mask:"_",allowEmptyFormatting:!0,allowLeadingZeros:!0,onValueChange:function(e){}}):c.a.createElement("input",{type:e.filter.type,className:"form-control",min:"0",name:e.name.replace(/\s/g,""),id:e.name.replace(/\s/g,""),defaultValue:Y[e.name.replace(/\s/g,"")]||"",placeholder:a.formatMessage({id:"LABEL.ALL"}),style:{width:200}})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("button",{type:"button",className:"mx-1 float-left btn btn-sm btn-primary",onClick:function(){!function(e,a){var t=Y;t[e]=document.getElementById(e).value,"currency"===a?t[e]=t[e].replace(/[Rp .]/g,"").replace(/[,]/g,"."):"phone"===a&&(t[e]=t[e].replace(/[(+62)_]/g,"")),V(Object(n.a)({},t)),Z()}(e.name.replace(/\s/g,""),e.filter.type),X()}},c.a.createElement(o.a,{id:"LABEL.UPDATE"})),c.a.createElement("button",{type:"button",className:"mx-1 float-right btn btn-sm btn-light d-flex",onClick:function(){!function(e){var a=Y;a[e]="",document.getElementById(e).value="",V(Object(n.a)({},a)),Z()}(e.name.replace(/\s/g,"")),X()}},c.a.createElement("i",{className:"fas fa-redo fa-right py-1 mx-1"}),c.a.createElement("span",{className:"pt-1"},c.a.createElement(o.a,{id:"LABEL.FILTER.RESET.TABLE"})))))))})),c.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger ml-2 mt-2 button-filter-submit",onClick:function(){V({}),document.getElementById("filter-form-all").reset(),Z({})}},c.a.createElement(o.a,{id:"LABEL.FILTER.RESET.TABLE"}))))),c.a.createElement("div",null,c.a.createElement(u.a,{component:d.a},c.a.createElement(E.a,{className:"hecto-"+B},c.a.createElement(f.a,null,c.a.createElement(p.a,null,r.map((function(e,a){return c.a.createElement(b.a,{className:"bg-primary text-uppercase ".concat((null===e||void 0===e?void 0:e.td)?null===e||void 0===e?void 0:e.td:""),key:a.toString()},e.order.active?c.a.createElement(g.a,{active:k.name===e.name.replace(/\s/g,""),direction:null!==k.type?k.type?"asc":"desc":k.order?"asc":"desc",onClick:function(){!function(e){var a=k;e.name.replace(/\s/g,"")===a.name?null!==a.type?a.type=!a.type:a.order=!a.order:(a.name=e.name.replace(/\s/g,""),a.order=!0,a.type=null),P(Object(n.a)({},a)),Z()}(e)}},c.a.createElement("span",null,c.a.createElement(o.a,{id:e.title}))):c.a.createElement("span",null,c.a.createElement(o.a,{id:e.title})))})))),c.a.createElement(L.a,null,T)),c.a.createElement("div",{className:"table-loading-data"},c.a.createElement("div",{className:"text-center font-weight-bold py-5"},c.a.createElement("div",{className:"table-loading-data-potition"},N&&c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-spinner fa-pulse text-dark mr-1"}),c.a.createElement(o.a,{id:"LABEL.TABLE.WAITING_DATA"})),S&&c.a.createElement("span",{className:"text-danger"},c.a.createElement("i",{className:"far fa-frown text-danger mr-1"}),c.a.createElement(o.a,{id:"LABEL.ERROR_REQUEST"})))))),c.a.createElement(v.a,{rowsPerPageOptions:[10,25,50,75,100,250,500,1e3],component:"div",count:D.count,rowsPerPage:D.rowsPerPage,page:D.page,onChangePage:function(e,a){var t=D;t.numberColum=a>t.page?t.numberColum+t.rowsPerPage:t.numberColum-t.rowsPerPage,t.page=a,M(Object(n.a)({},t)),Z()},onChangeRowsPerPage:function(e){var a=D;a.page=0,a.rowsPerPage=parseInt(e.target.value,10),a.numberColum=0,M(Object(n.a)({},a)),Z()}}))))})))},1282:function(e,a,t){"use strict";var n=t(1),l=t(11),r=t(0),c=(t(7),t(10)),i=t(21),o=t(238),s=Object(o.a)(r.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var m=r.forwardRef((function(e,a){var t=e.alt,i=e.children,o=e.classes,m=e.className,u=e.component,d=void 0===u?"div":u,E=e.imgProps,f=e.sizes,p=e.src,b=e.srcSet,g=e.variant,L=void 0===g?"circle":g,v=Object(l.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),A=null,N=function(e){var a=e.src,t=e.srcSet,n=r.useState(!1),l=n[0],c=n[1];return r.useEffect((function(){if(a||t){c(!1);var e=!0,n=new Image;return n.src=a,n.srcSet=t,n.onload=function(){e&&c("loaded")},n.onerror=function(){e&&c("error")},function(){e=!1}}}),[a,t]),l}({src:p,srcSet:b}),h=p||b,O=h&&"error"!==N;return A=O?r.createElement("img",Object(n.a)({alt:t,src:p,srcSet:b,sizes:f,className:o.img},E)):null!=i?i:h&&t?t[0]:r.createElement(s,{className:o.fallback}),r.createElement(d,Object(n.a)({className:Object(c.a)(o.root,o.system,o[L],m,!O&&o.colorDefault),ref:a},v),A)}));a.a=Object(i.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(m)},1308:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(99),c=t(93),i=t.n(c),o=t(1243),s=t(12),m=t(15),u=t(1220),d=t(278),E=t(1241),f=t(371),p=t(1236),b=t(1213),g=t(1214),L=t(1216),v=t(1271),A=t(1272),N=t(29),h=t(64),O=t.n(h);function y(e){return O.a.post("/api/v1/reservasioff",e)}function S(e,a){return O.a.put("/api/v1/cancelreservasi/".concat(e),a)}var T=t(58),j=t(1242),_=t(63),I=t(105),B=[{title:"LABEL.PATIENT_CODE",name:"kode_pasien",filter:!0},{title:"LABEL.PATIENT_NAME",name:"nama",filter:!0},{title:"LABEL.DATE_OF_VISIT",name:"tgl_book",filter:!0},{title:"LABEL.POLI",name:"poli",filter:!0},{title:"LABEL.STATUS",name:"statusName",filter:!0},{title:"LABEL.TABLE_HEADER.ACTION",name:"action",filter:!1}],C=[{label:"LABEL.CANCEL",icon:"fas fa-ban text-danger",type:"cancel"}],R={};var D=Object(d.c)(Object(m.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!0),r=Object(s.a)(t,2),c=r[0],m=r[1],d=Object(n.useState)(!1),h=Object(s.a)(d,2),y=h[0],D=h[1],M=Object(n.useState)([]),w=Object(s.a)(M,2),x=w[0],k=w[1],P=Object(n.useState)([]),F=Object(s.a)(P,2),H=F[0],Y=F[1],V=Object(n.useState)(!1),U=Object(s.a)(V,2),Q=U[0],G=U[1],q=Object(n.useState)({}),K=Object(s.a)(q,2),W=K[0],z=K[1],J=Object(N.i)();Object(n.useLayoutEffect)((function(){J.setBreadcrumbs([{pathname:"/registry/dashboard",title:a.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/registry/regis-page/list-online",title:a.formatMessage({id:"LABEL.REGISTER_ONLINE_RESERVATION"})}]),J.setTitle(a.formatMessage({id:"LABEL.REGISTER_ONLINE_RESERVATION"}))}),[]);var Z=_.b().shape({cancel_reason:_.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"}))}),X=Object(I.b)({initialValues:R,validationSchema:Z,onSubmit:function(){var e=Object(o.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setStatus,n.setSubmitting,D(!0),S(W.id,t).then((function(e){$(),G(!1),D(!1),X.resetForm(),T.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3)})).catch((function(e){D(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}),$=function(){m(!0),O.a.get("/api/v1/reservasion").then((function(e){m(!1);var t=e.data.data;t.forEach((function(e){e.statusName="1"===e.status?a.formatMessage({id:"LABEL.BOOKING"}):"2"===e.status?a.formatMessage({id:"LABEL.CANCELED"}):"3"===e.status?a.formatMessage({id:"LABEL.CHECKIN_SCREENING"}):"4"===e.status?a.formatMessage({id:"LABEL.POLI_PROCESS"}):"5"===e.status?a.formatMessage({id:"LABEL.PHARMACIST"}):"6"===e.status?a.formatMessage({id:"LABEL.PAYMENT"}):a.formatMessage({id:"LABEL.FINISH"})})),k(t),Y(t)})).catch((function(e){m(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))};Object(n.useEffect)($,[]);var ee=function(e,a){"cancel"===e&&(z(a),G(!0))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{open:Q,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(b.a,null,l.a.createElement(u.a,{id:"LABEL.CANCELLATION_REASON"})),l.a.createElement("form",{autoComplete:"off",onSubmit:X.handleSubmit},l.a.createElement(g.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.PATIENT_CODE"})),l.a.createElement("input",{type:"email",className:"form-control",value:W.kode_pasien,onChange:function(){},disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.PATIENT_NAME"})),l.a.createElement("input",{type:"email",className:"form-control",value:W.nama,onChange:function(){},disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.DATE_OF_VISIT"})),l.a.createElement("input",{type:"email",className:"form-control",value:W.tgl_book?window.moment(new Date(W.tgl_book)).format("DD MMM YYYY"):"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.POLI"})),l.a.createElement("input",{type:"email",className:"form-control",value:W.poli,onChange:function(){},disabled:!0})))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"cancllationReason"},l.a.createElement(u.a,{id:"LABEL.NOTES"}),":"),l.a.createElement("textarea",Object.assign({rows:"3",className:"form-control",id:"cancllationReason"},X.getFieldProps("cancel_reason"),{onFocus:function(){X.setFieldTouched("cancel_reason",!0)},required:!0,disabled:y})),X.touched.cancel_reason&&X.errors.cancel_reason&&l.a.createElement("span",{className:"text-left text-danger"},X.errors.cancel_reason))),l.a.createElement(L.a,null,l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){G(!1),X.resetForm()},disabled:y},l.a.createElement(u.a,{id:"LABEL.CANCEL"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!X.isValid||0===Object.keys(X.touched).length&&X.touched.constructor===Object||y},y?l.a.createElement(u.a,{id:"LABEL.WAITING"}):l.a.createElement(u.a,{id:"LABEL.SAVE"}),y?l.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}):l.a.createElement("i",{className:"fas fa-save ml-2"}))))),l.a.createElement(f.b,null,l.a.createElement(f.c,null,l.a.createElement(E.a,{dataHeader:B,dataSecond:H,handleFilter:function(e){k(e)},loading:c,hecto:10},x.map((function(e,a){return l.a.createElement(v.a,{key:a.toString()},l.a.createElement(A.a,null,e.kode_pasien),l.a.createElement(A.a,null,e.nama),l.a.createElement(A.a,null,e.tgl_book),l.a.createElement(A.a,null,e.poli),l.a.createElement(A.a,null,e.statusName),l.a.createElement(A.a,null,"2"!==e.status&&"7"!==e.status&&l.a.createElement(j.a,{data:e,handleAction:ee,ops:C})))}))))))}))),M=[{title:"LABEL.PATIENT_CODE",name:"kode_pasien",filter:!0},{title:"LABEL.PATIENT_NAME",name:"nama",filter:!0},{title:"LABEL.DATE_OF_VISIT",name:"tgl_book",filter:!0},{title:"LABEL.POLI",name:"poli",filter:!0},{title:"LABEL.STATUS",name:"statusName",filter:!0},{title:"LABEL.TABLE_HEADER.ACTION",name:"action",filter:!1}],w=[{label:"LABEL.CANCEL",icon:"fas fa-ban text-danger",type:"cancel"}],x={};var k=Object(d.c)(Object(m.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!0),r=Object(s.a)(t,2),c=r[0],m=r[1],d=Object(n.useState)(!1),h=Object(s.a)(d,2),y=h[0],B=h[1],C=Object(n.useState)([]),R=Object(s.a)(C,2),D=R[0],k=R[1],P=Object(n.useState)([]),F=Object(s.a)(P,2),H=F[0],Y=F[1],V=Object(n.useState)(!1),U=Object(s.a)(V,2),Q=U[0],G=U[1],q=Object(n.useState)({}),K=Object(s.a)(q,2),W=K[0],z=K[1],J=Object(N.i)();Object(n.useLayoutEffect)((function(){J.setBreadcrumbs([{pathname:"/registry/dashboard",title:a.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/registry/regis-page/list-offline",title:a.formatMessage({id:"LABEL.REGISTER_OFFLINE_RESERVATION"})}]),J.setTitle(a.formatMessage({id:"LABEL.REGISTER_OFFLINE_RESERVATION"}))}),[]);var Z=_.b().shape({cancel_reason:_.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"}))}),X=Object(I.b)({initialValues:x,validationSchema:Z,onSubmit:function(){var e=Object(o.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setStatus,n.setSubmitting,B(!0),S(W.id,t).then((function(e){$(),G(!1),B(!1),X.resetForm(),T.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3)})).catch((function(e){B(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}),$=function(){m(!0),O.a.get("/api/v1/reservasioff").then((function(e){m(!1);var t=e.data.data;t.forEach((function(e){e.statusName="1"===e.status?a.formatMessage({id:"LABEL.BOOKING"}):"2"===e.status?a.formatMessage({id:"LABEL.CANCELED"}):"3"===e.status?a.formatMessage({id:"LABEL.CHECKIN_SCREENING"}):"4"===e.status?a.formatMessage({id:"LABEL.POLI_PROCESS"}):"5"===e.status?a.formatMessage({id:"LABEL.PHARMACIST"}):"6"===e.status?a.formatMessage({id:"LABEL.PAYMENT"}):a.formatMessage({id:"LABEL.FINISH"})})),k(t),Y(t)})).catch((function(e){m(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))};Object(n.useEffect)($,[]);var ee=function(e,a){"cancel"===e&&(z(a),G(!0))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{open:Q,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(b.a,null,l.a.createElement(u.a,{id:"LABEL.CANCELLATION_REASON"})),l.a.createElement("form",{autoComplete:"off",onSubmit:X.handleSubmit},l.a.createElement(g.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.PATIENT_CODE"})),l.a.createElement("input",{type:"email",className:"form-control",value:W.kode_pasien,onChange:function(){},disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.PATIENT_NAME"})),l.a.createElement("input",{type:"email",className:"form-control",value:W.nama,onChange:function(){},disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.DATE_OF_VISIT"})),l.a.createElement("input",{type:"email",className:"form-control",value:W.tgl_book?window.moment(new Date(W.tgl_book)).format("DD MMM YYYY"):"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement(u.a,{id:"LABEL.POLI"})),l.a.createElement("input",{type:"email",className:"form-control",value:W.poli,onChange:function(){},disabled:!0})))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"cancllationReason"},l.a.createElement(u.a,{id:"LABEL.NOTES"}),":"),l.a.createElement("textarea",Object.assign({rows:"3",className:"form-control",id:"cancllationReason"},X.getFieldProps("cancel_reason"),{onFocus:function(){X.setFieldTouched("cancel_reason",!0)},required:!0,disabled:y})),X.touched.cancel_reason&&X.errors.cancel_reason&&l.a.createElement("span",{className:"text-left text-danger"},X.errors.cancel_reason))),l.a.createElement(L.a,null,l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){G(!1),X.resetForm()},disabled:y},l.a.createElement(u.a,{id:"LABEL.CANCEL"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!X.isValid||0===Object.keys(X.touched).length&&X.touched.constructor===Object||y},y?l.a.createElement(u.a,{id:"LABEL.WAITING"}):l.a.createElement(u.a,{id:"LABEL.SAVE"}),y?l.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}):l.a.createElement("i",{className:"fas fa-save ml-2"}))))),l.a.createElement(f.b,null,l.a.createElement(f.c,null,l.a.createElement(E.a,{dataHeader:M,dataSecond:H,handleFilter:function(e){k(e)},loading:c,hecto:10},D.map((function(e,a){return l.a.createElement(v.a,{key:a.toString()},l.a.createElement(A.a,null,e.kode_pasien),l.a.createElement(A.a,null,e.nama),l.a.createElement(A.a,null,e.tgl_book),l.a.createElement(A.a,null,e.poli),l.a.createElement(A.a,null,e.statusName),l.a.createElement(A.a,null,"2"!==e.status&&"7"!==e.status&&l.a.createElement(j.a,{data:e,handleAction:ee,ops:w})))}))))))}))),P=t(13),F=[{title:"LABEL.PATIENT_CODE",name:"kode_pasien",filter:!0},{title:"LABEL.PATIENT_NAME",name:"nama",filter:!0},{title:"LABEL.DATE_OF_VISIT",name:"tgl_book",filter:!0},{title:"LABEL.POLI",name:"poli",filter:!0},{title:"LABEL.STATUS",name:"statusName",filter:!0},{title:"LABEL.TABLE_HEADER.ACTION",name:"action",filter:!1}];var H=Object(d.c)(Object(m.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!0),r=Object(s.a)(t,2),c=r[0],i=r[1],o=Object(n.useState)([]),m=Object(s.a)(o,2),d=m[0],p=m[1],b=Object(n.useState)([]),g=Object(s.a)(b,2),L=g[0],h=g[1],y=Object(N.i)();return Object(n.useLayoutEffect)((function(){y.setBreadcrumbs([{pathname:"/registry/dashboard",title:a.formatMessage({id:"MENU.DASHBOARD"})},{pathname:"/registry/regis-page/not-yet-come",title:a.formatMessage({id:"LABEL.NOT_YET_COME"})}]),y.setTitle(a.formatMessage({id:"LABEL.NOT_YET_COME"}))}),[]),Object(n.useEffect)((function(){i(!0),O.a.get("/api/v1/reservasiuncoming").then((function(e){i(!1);var t=e.data.data;t.forEach((function(e){e.statusName="1"===e.status?a.formatMessage({id:"LABEL.BOOKING"}):"2"===e.status?a.formatMessage({id:"LABEL.CANCELED"}):"3"===e.status?a.formatMessage({id:"LABEL.CHECKIN_SCREENING"}):"4"===e.status?a.formatMessage({id:"LABEL.POLI_PROCESS"}):"5"===e.status?a.formatMessage({id:"LABEL.PHARMACIST"}):"6"===e.status?a.formatMessage({id:"LABEL.PAYMENT"}):a.formatMessage({id:"LABEL.FINISH"})})),p(t),h(t)})).catch((function(e){i(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(f.b,null,l.a.createElement(f.c,null,l.a.createElement(E.a,{dataHeader:F,dataSecond:L,handleFilter:function(e){p(e)},loading:c,hecto:10},d.map((function(e,a){return l.a.createElement(v.a,{key:a.toString()},l.a.createElement(A.a,null,e.kode_pasien),l.a.createElement(A.a,null,e.nama),l.a.createElement(A.a,null,e.tgl_book),l.a.createElement(A.a,null,e.poli),l.a.createElement(A.a,null,e.statusName),l.a.createElement(A.a,null,"1"===e.status&&l.a.createElement(P.b,{className:"btn btn-warning",to:"/registry/screening/patient/".concat(e.pasien_id,"/").concat(e.poli_id,"/").concat(e.id)},l.a.createElement(u.a,{id:"LABEL.CHECKIN_SCREENING"}))))}))))))}))),Y=t(33),V=t(1248),U=t(1282),Q=t(1),G=t(142),q=t(11),K=t(10),W=(t(7),t(205)),z=t(21),J=t(78),Z=t(100),X=t(116),$=t(39),ee=n.forwardRef((function(e,a){var t=e.children,l=e.classes,r=e.className,c=e.collapsedHeight,i=void 0===c?"0px":c,o=e.component,s=void 0===o?"div":o,m=e.disableStrictModeCompat,u=void 0!==m&&m,d=e.in,E=e.onEnter,f=e.onEntered,p=e.onEntering,b=e.onExit,g=e.onExited,L=e.onExiting,v=e.style,A=e.timeout,N=void 0===A?J.b.standard:A,h=e.TransitionComponent,O=void 0===h?W.c:h,y=Object(q.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),S=Object(X.a)(),T=n.useRef(),j=n.useRef(null),_=n.useRef(),I="number"===typeof i?"".concat(i,"px"):i;n.useEffect((function(){return function(){clearTimeout(T.current)}}),[]);var B=S.unstable_strictMode&&!u,C=n.useRef(null),R=Object($.a)(a,B?C:void 0),D=function(e){return function(a,t){if(e){var n=B?[C.current,a]:[a,t],l=Object(G.a)(n,2),r=l[0],c=l[1];e(r,c)}}},M=D((function(e,a){e.style.height=I,E&&E(e,a)})),w=D((function(e,a){var t=j.current?j.current.clientHeight:0,n=Object(Z.a)({style:v,timeout:N},{mode:"enter"}).duration;if("auto"===N){var l=S.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(l,"ms"),_.current=l}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height="".concat(t,"px"),p&&p(e,a)})),x=D((function(e,a){e.style.height="auto",f&&f(e,a)})),k=D((function(e){var a=j.current?j.current.clientHeight:0;e.style.height="".concat(a,"px"),b&&b(e)})),P=D(g),F=D((function(e){var a=j.current?j.current.clientHeight:0,t=Object(Z.a)({style:v,timeout:N},{mode:"exit"}).duration;if("auto"===N){var n=S.transitions.getAutoHeightDuration(a);e.style.transitionDuration="".concat(n,"ms"),_.current=n}else e.style.transitionDuration="string"===typeof t?t:"".concat(t,"ms");e.style.height=I,L&&L(e)}));return n.createElement(O,Object(Q.a)({in:d,onEnter:M,onEntered:x,onEntering:w,onExit:k,onExited:P,onExiting:F,addEndListener:function(e,a){var t=B?e:a;"auto"===N&&(T.current=setTimeout(t,_.current||0))},nodeRef:B?C:void 0,timeout:"auto"===N?null:N},y),(function(e,a){return n.createElement(s,Object(Q.a)({className:Object(K.a)(l.container,r,{entered:l.entered,exited:!d&&"0px"===I&&l.hidden}[e]),style:Object(Q.a)({minHeight:I},v),ref:R},a),n.createElement("div",{className:l.wrapper,ref:j},n.createElement("div",{className:l.wrapperInner},t)))}))}));ee.muiSupportAuto=!0;var ae=Object(z.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(ee),te=t(14),ne=t(1224),le=t(1245),re=t(34),ce=Object(ne.a)({bigAvatar:{width:80,height:80}}),ie=[{title:"LABEL.PATIENT_CODE",name:"kode_pasien",order:{active:!0,status:!0},filter:{active:!0,type:"text"}},{title:"LABEL.PATIENT_NAME",name:"nama",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.REGISTRATION_DATE",name:"created_at",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.ADDRESS",name:"kota",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.PHONE_NUMBER",name:"no_telp",order:{active:!0,status:!1},filter:{active:!0,type:"number"}},{title:"LABEL.GENDER",name:"jk",order:{active:!0,status:!1},filter:{active:!1,type:"text"}},{title:"LABEL.TABLE_HEADER.ACTION",name:"action",order:{active:!1,status:!1},filter:{active:!1,type:"text"}}],oe={};var se=Object(d.c)(Object(m.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!1),r=Object(s.a)(t,2),c=r[0],d=r[1],E=Object(n.useState)(!1),h=Object(s.a)(E,2),S=h[0],j=h[1],B=Object(n.useState)({data:[],count:0}),C=Object(s.a)(B,2),R=C[0],D=C[1],M=Object(n.useState)(!1),w=Object(s.a)(M,2),x=w[0],k=w[1],F=Object(n.useState)({}),H=Object(s.a)(F,2),Q=H[0],G=H[1],q=Object(n.useState)([]),K=Object(s.a)(q,2),W=K[0],z=K[1],J=Object(n.useState)({}),Z=Object(s.a)(J,2),X=Z[0],$=Z[1],ee=Object(n.useState)([]),ne=Object(s.a)(ee,2),se=ne[0],me=ne[1],ue=Object(n.useState)(!1),de=Object(s.a)(ue,2),Ee=de[0],fe=de[1],pe=Object(n.useState)({}),be=Object(s.a)(pe,2),ge=be[0],Le=be[1],ve=Object(n.useState)(!1),Ae=Object(s.a)(ve,2),Ne=Ae[0],he=Ae[1],Oe=ce(),ye=Object(N.i)(),Se=Object(m.e)((function(e){return e.clientMqtt.client}),m.c);Object(n.useLayoutEffect)((function(){ye.setBreadcrumbs([{pathname:"/registry/regis-page/reservation",title:a.formatMessage({id:"LABEL.RESERVATION"})}]),ye.setTitle(a.formatMessage({id:"LABEL.RESERVATION"}))}),[]);var Te=_.b().shape({tgl_book:_.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"})),poli_id:_.d().required(a.formatMessage({id:"LABEL.VALIDATION_REQUIRED_FIELD"}))}),je=Object(I.b)({initialValues:oe,validationSchema:Te,onSubmit:function(){var e=Object(o.a)(i.a.mark((function e(t,n){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setStatus,n.setSubmitting,d(!0),(l=t).pasien_id=Q.id,y(l).then((function(e){G({}),fe(!1),d(!1),$({}),he(!1),je.resetForm(),T.a.showSnackbar(a.formatMessage({id:"LABEL.UPDATE_DATA_SUCCESS"}),"success",3e3),_e()})).catch((function(e){var a;d(!1),T.a.showSnackbar(null===(a=e.response)||void 0===a?void 0:a.data.messages)}));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}),_e=function(){if(Se){var e=re.d.topic,a=re.d.qos,t=re.d.payload,n=re.a.topicCallDoctor,l=re.a.qosCallDoctor,r=re.a.payloadCallDoctor;Se.publish(e,t,{qos:a},(function(e){e&&console.log("Publish error: ",e)})),Se.publish(n,r,{qosCallDoctor:l},(function(e){e&&console.log("Publish error: ",e)}))}};Object(n.useEffect)((function(){O.a.get("/api/v1/poli").then((function(e){var a=e.data.data;a.forEach((function(e){e.value=e.id,e.label=e.poli})),me(a)})).catch((function(e){T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),[]),Object(n.useEffect)((function(){O.a.get("/api/v1/pasien?page=1&rowsPerPage=100000").then((function(e){var a=e.data.data.rows;a.forEach((function(e){e.value=e.kode_pasien,e.label=e.kode_pasien+"-"+e.nama})),z(a)})).catch((function(e){T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))}),[]);var Ie=function(e){(function(e){return O.a.get("/api/v1/pasien/".concat(e))})(e).then((function(e){Le(e.data.data)})).catch((function(e){T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{open:Ee,maxWidth:"md",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement("form",{autoComplete:"off",onSubmit:je.handleSubmit},l.a.createElement(b.a,null,l.a.createElement(u.a,{id:"LABEL.REGISTRATION"})),l.a.createElement(g.a,null,l.a.createElement("div",{className:"row bg-primary p-5 rounded"},l.a.createElement("div",{className:"col-md-2 pt-5"},l.a.createElement(U.a,{alt:"Foto",src:Object(te.d)("/media/svg/avatars/004-boy-1.svg"),className:Oe.bigAvatar+" m-auto"}),l.a.createElement("div",{className:"text-center pt-5"},l.a.createElement(P.b,{to:"/registry/patient/list/".concat(null===ge||void 0===ge?void 0:ge.id),className:"btn btn-success"},"Detail"))),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"NIK"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:(null===ge||void 0===ge?void 0:ge.ktpno)||"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"Nama Lengkap"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:(null===ge||void 0===ge?void 0:ge.nama)||"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"Tempat, Tanggal Lahir"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:((null===ge||void 0===ge?void 0:ge.tempat_lahir)?null===ge||void 0===ge?void 0:ge.tempat_lahir:"")+", "+((null===ge||void 0===ge?void 0:ge.tgl_lahir)?window.moment(new Date(null===ge||void 0===ge?void 0:ge.tgl_lahir)).format("DD MMM YYYY"):"")||"",onChange:function(){},disabled:!0})))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"No Pasien"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:(null===ge||void 0===ge?void 0:ge.kode_pasien)||"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"Terakhir Kunjungan"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",value:(null===ge||void 0===ge?void 0:ge.last_time)?window.moment(new Date(null===ge||void 0===ge?void 0:ge.last_time)).format("DD MMM YYYY"):"",onChange:function(){},disabled:!0}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-light"},"Alamat"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("textarea",{rows:"3",className:"form-control",value:(null===ge||void 0===ge?void 0:ge.alamat)||"",onChange:function(){},disabled:!0}))))))),l.a.createElement("div",{className:"row my-5"},l.a.createElement("div",{className:"col-12 col-md-8"}),l.a.createElement("div",{className:"col-12 col-md-4 px-0 py-5"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text bg-primary"},l.a.createElement("i",{className:"far fa-calendar-plus text-light"}))),l.a.createElement("input",Object.assign({type:"date",className:"form-control",min:window.moment(new Date).format("YYYY-MM-DD"),required:!0,disabled:c},je.getFieldProps("tgl_book")))),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text bg-primary"},l.a.createElement("i",{className:"far fa-list-alt text-light"}))),l.a.createElement(V.a,{value:X,options:se,isDisabled:c,className:"form-control border-0 p-0 h-100 rounded-0",classNamePrefix:"react-select",menuPlacement:"top",onChange:function(e){$(e),je.setFieldValue("poli_id",e.value)}}))))),l.a.createElement(L.a,null,l.a.createElement("button",{type:"button",onClick:function(){fe(!1),$({}),G({}),je.resetForm()},className:"btn btn-danger",disabled:c},l.a.createElement(u.a,{id:"LABEL.CANCEL"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!je.isValid||0===Object.keys(je.touched).length&&je.touched.constructor===Object||c},c?l.a.createElement("i",{className:"fas fa-spinner fa-pulse px-2"}):l.a.createElement("i",{className:"fas fa-save ml-2"}),c?l.a.createElement(u.a,{id:"LABEL.WAITING"}):l.a.createElement(u.a,{id:"LABEL.SAVE"}))))),l.a.createElement(f.b,null,l.a.createElement(f.c,null,l.a.createElement("div",null,l.a.createElement("h1",{className:"text-uppercase text-center mb-5 pb-5"},l.a.createElement(u.a,{id:"LABEL.RESERVATION"}))),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},l.a.createElement("i",{className:"fas fa-qrcode"}))),l.a.createElement(V.a,{value:Q,options:W,isDisabled:!1,className:"form-control border-0 p-0 h-100 rounded-0",classNamePrefix:"react-select",onChange:function(e){G(e),Ie(e.id),fe(!0)}}),l.a.createElement("div",{className:"input-group-append cursor-pointer",onClick:function(){he(!Ne)}},l.a.createElement("span",{className:"input-group-text bg-primary text-light"},l.a.createElement(u.a,{id:"LABEL.ADVANCED_SEARCH"})))),l.a.createElement(ae,{in:Ne},l.a.createElement("div",{className:"m-5"},l.a.createElement(le.a,{dataHeader:ie,handleParams:function(e){j(!0),D(Object(Y.a)(Object(Y.a)({},R),{},{count:0,data:[]})),k(!1),function(e){return O.a.get("/api/v1/pasien".concat(e?"?"+e:""))}(e).then((function(e){j(!1),D(Object(Y.a)(Object(Y.a)({},R),{},{count:e.data.data.count||0,data:e.data.data.rows}))})).catch((function(e){k(!0),j(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))},loading:S,err:x,countData:R.count,hecto:10},R.data.map((function(e,a){return l.a.createElement(v.a,{key:a.toString()},l.a.createElement(A.a,null,e.kode_pasien),l.a.createElement(A.a,null,null===e||void 0===e?void 0:e.nama),l.a.createElement(A.a,null,window.moment(new Date(null===e||void 0===e?void 0:e.created_at)).format("DD MMM YYYY")),l.a.createElement(A.a,null,null===e||void 0===e?void 0:e.kota),l.a.createElement(A.a,null,null===e||void 0===e?void 0:e.no_telp),l.a.createElement(A.a,null,"L"===(null===e||void 0===e?void 0:e.jk)?"Laki-Laki":"Perempuan"),l.a.createElement(A.a,null,l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){var a=e;a.value=a.kode_pasien,a.label=a.kode_pasien+"-"+a.nama,G(a),Ie(e.id),fe(!0)}},"Pilih")))}))))))))}))),me=[{title:"LABEL.PATIENT_CODE",name:"kode_pasien",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.PATIENT_NAME",name:"nama",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.REGISTRATION_DATE",name:"created_at",order:{active:!0,status:!0,type:!1},filter:{active:!0,type:"date"}},{title:"LABEL.DATE_OF_VISIT",name:"tgl_book",order:{active:!0,status:!1},filter:{active:!0,type:"date"}},{title:"LABEL.POLI",name:"poli",order:{active:!0,status:!1},filter:{active:!0,type:"text"}},{title:"LABEL.STATUS",name:"status",order:{active:!1,status:!1},filter:{active:!1,type:"text"}},{title:"LABEL.TABLE_HEADER.ACTION",name:"action",order:{active:!1,status:!1},filter:{active:!1,type:"text"}}],ue=[{label:"LABEL.VISIT_DETAILS",icon:"fas fa-external-link-alt text-primary",type:"open"}];var de=Object(d.c)(Object(m.b)(null,null)((function(e){var a=e.intl,t=Object(n.useState)(!0),r=Object(s.a)(t,2),c=r[0],i=r[1],o=Object(n.useState)({data:[],count:0}),m=Object(s.a)(o,2),d=m[0],E=m[1],p=Object(n.useState)(!1),b=Object(s.a)(p,2),g=b[0],L=b[1],h=Object(N.i)();Object(n.useLayoutEffect)((function(){h.setBreadcrumbs([{pathname:"/registry/regis-page/list",title:a.formatMessage({id:"LABEL.RESERVATION_LIST"})}]),h.setTitle(a.formatMessage({id:"LABEL.RESERVATION_LIST"}))}),[]);var y=function(a,t){e.history.push("/registry/patient/list/".concat(t.id))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.b,null,l.a.createElement(f.c,null,l.a.createElement(le.a,{dataHeader:me,handleParams:function(e){i(!0),E(Object(Y.a)(Object(Y.a)({},d),{},{count:0,data:[]})),L(!1),function(e){return O.a.get("/api/v1/reservasiall".concat(e?"?"+e:""))}(e).then((function(e){i(!1),E(Object(Y.a)(Object(Y.a)({},d),{},{count:e.data.data.count||0,data:e.data.data.rows}))})).catch((function(e){L(!0),i(!1),T.a.showSnackbar(a.formatMessage({id:"REQ.REQUEST_FAILED"}))}))},loading:c,err:g,countData:d.count,hecto:10},d.data.map((function(e,a){return l.a.createElement(v.a,{key:a.toString()},l.a.createElement(A.a,null,e.kode_pasien),l.a.createElement(A.a,null,null===e||void 0===e?void 0:e.nama),l.a.createElement(A.a,null,window.moment(new Date(null===e||void 0===e?void 0:e.created_at)).format("DD MMM YYYY")),l.a.createElement(A.a,null,window.moment(new Date(null===e||void 0===e?void 0:e.tgl_book)).format("DD MMM YYYY")),l.a.createElement(A.a,null,null===e||void 0===e?void 0:e.poli),l.a.createElement(A.a,null,"1"===e.status?l.a.createElement(u.a,{id:"LABEL.BOOKING"}):"2"===e.status?l.a.createElement(u.a,{id:"LABEL.CANCELED"}):"3"===e.status?l.a.createElement(u.a,{id:"LABEL.CHECKIN_SCREENING"}):"4"===e.status?l.a.createElement(u.a,{id:"LABEL.POLI_PROCESS"}):"5"===e.status?l.a.createElement(u.a,{id:"LABEL.PHARMACIST"}):"6"===e.status?l.a.createElement(u.a,{id:"LABEL.PAYMENT"}):l.a.createElement(u.a,{id:"LABEL.FINISH"})),l.a.createElement(A.a,null,l.a.createElement(j.a,{data:e,handleAction:y,ops:ue})))}))))))})));a.default=Object(d.c)(Object(m.b)(null,null)((function(e){return l.a.createElement(r.d,null,l.a.createElement(r.a,{exact:!0,from:"/registry/regis-page",to:"/registry/dashboard"}),l.a.createElement(r.b,{path:"/registry/regis-page/list-online",component:function(e){return l.a.createElement(D,e)},exact:!0}),l.a.createElement(r.b,{path:"/registry/regis-page/list-offline",component:function(e){return l.a.createElement(k,e)},exact:!0}),l.a.createElement(r.b,{path:"/registry/regis-page/not-yet-come",component:function(e){return l.a.createElement(H,e)},exact:!0}),l.a.createElement(r.b,{path:"/registry/regis-page/reservation",component:function(e){return l.a.createElement(se,e)},exact:!0}),l.a.createElement(r.b,{path:"/registry/regis-page/list-all",component:function(e){return l.a.createElement(de,e)},exact:!0}))})))}}]);
//# sourceMappingURL=17.8640dd75.chunk.js.map